==========================================
reduce in BAKERY-NARROWING-GRAPH : wellFormed(##m##, init(0)) .
rewrites: 5
result Bool: true
==========================================
reduce in BAKERY-NARROWING-GRAPH : wellFormed(##m##, init(1)) .
rewrites: 5
result Bool: true
==========================================
reduce in BAKERY-NARROWING-GRAPH : wellFormed(##m##, init(2)) .
rewrites: 5
result Bool: true
==========================================
reduce in BAKERY-NARROWING-GRAPH : wellFormed(##m##, init(3)) .
rewrites: 5
result Bool: true
==========================================
reduce in BAKERY-NARROWING-GRAPH : wellFormed(##m##, init(4)) .
rewrites: 5
result Bool: true
==========================================
reduce in BAKERY-NARROWING-GRAPH : step(state(init(0))) .
rewrites: 23
result Transition: < label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`][
    'idle.ModeIdle]]] => '_;_;_['__['s.Name,'N:Name],'M:Name,'__['PS:ProcSet,
    '`[_`]['wait['N:Name]]]] [narrowing label('wake)] ., none),state('_;_;_[
    's.Name,'0.Name,'__['`[_`]['idle.ModeIdle],'`[_`]['wait['0.Name]]]]) >
==========================================
reduce in BAKERY-NARROWING-GRAPH : step(state(init(1))) .
rewrites: 24
result Transition: < label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`][
    'idle.ModeIdle]]] => '_;_;_['__['s.Name,'N:Name],'M:Name,'__['PS:ProcSet,
    '`[_`]['wait['N:Name]]]] [narrowing label('wake)] ., 
  'X:Name <- '@1:Name),state('_;_;_['__['s.Name,'@1:Name],'@1:Name,'__['`[_`][
    'idle.ModeIdle],'`[_`]['wait['@1:Name]]]]) >
==========================================
reduce in BAKERY-NARROWING-GRAPH : step(state(init(2))) .
rewrites: 42
result NeTransitionSet: < label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,
    '`[_`]['idle.ModeIdle]]] => '_;_;_['__['s.Name,'N:Name],'M:Name,'__[
    'PS:ProcSet,'`[_`]['wait['N:Name]]]] [narrowing label('wake)] ., 
  'PWS:ProcWaitSet <- '@3:ProcWaitSet ; 
  'X:Name <- '@1:Name ; 
  'Y:Name <- '@2:Name),state('_;_;_['__['s.Name,'@1:Name],'@2:Name,'__[
    '@3:ProcWaitSet,'`[_`]['wait['@1:Name]]]]) >,< label(rl '_;_;_['N:Name,
    'M:Name,'__['PS:ProcSet,'`[_`]['wait['M:Name]]]] => '_;_;_['N:Name,'M:Name,
    '__['PS:ProcSet,'`[_`]['crit['M:Name]]]] [narrowing label('crit)] ., 
  'PWS:ProcWaitSet <- '__['@3:ProcWaitSet,'`[_`]['wait['@2:Name]]] ; 
  'X:Name <- '@1:Name ; 
  'Y:Name <- '@2:Name),state('_;_;_['@1:Name,'@2:Name,'__['@3:ProcWaitSet,
    '`[_`]['idle.ModeIdle],'`[_`]['crit['@2:Name]]]]) >
==========================================
reduce in BAKERY-NARROWING-GRAPH : step(state(init(3))) .
rewrites: 57
result NeTransitionSet: < label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,
    '`[_`]['idle.ModeIdle]]] => '_;_;_['__['s.Name,'N:Name],'M:Name,'__[
    'PS:ProcSet,'`[_`]['wait['N:Name]]]] [narrowing label('wake)] ., 
  'PWS:ProcWaitSet <- '@2:ProcWaitSet ; 
  'X:Name <- '@3:Name ; 
  'Y:Name <- '@1:Name),state('_;_;_['__['s.Name,'s.Name,'@3:Name],'@1:Name,'__[
    '@2:ProcWaitSet,'`[_`]['idle.ModeIdle],'`[_`]['crit['__['s.Name,
    '@3:Name]]],'`[_`]['wait['__['s.Name,'@3:Name]]]]]) >,< label(rl '_;_;_[
    'N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['crit['M:Name]]]] => '_;_;_['N:Name,
    '__['s.Name,'M:Name],'__['PS:ProcSet,'`[_`]['idle.ModeIdle]]] [narrowing
    label('exit)] ., 
  'PWS:ProcWaitSet <- '@1:ProcWaitSet ; 
  'X:Name <- '@2:Name ; 
  'Y:Name <- '__['s.Name,'@2:Name]),state('_;_;_['__['s.Name,'@2:Name],'__[
    's.Name,'s.Name,'@2:Name],'__['@1:ProcWaitSet,'`[_`]['idle.ModeIdle],
    '`[_`]['idle.ModeIdle],'`[_`]['idle.ModeIdle]]]) >,< label(rl '_;_;_[
    'N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['wait['M:Name]]]] => '_;_;_['N:Name,
    'M:Name,'__['PS:ProcSet,'`[_`]['crit['M:Name]]]] [narrowing label('crit)]
    ., 
  'PWS:ProcWaitSet <- '__['@2:ProcWaitSet,'`[_`]['wait['@1:Name]]] ; 
  'X:Name <- '@3:Name ; 
  'Y:Name <- '@1:Name),state('_;_;_['__['s.Name,'@3:Name],'@1:Name,'__[
    '@2:ProcWaitSet,'`[_`]['idle.ModeIdle],'`[_`]['idle.ModeIdle],'`[_`]['crit[
    '@1:Name]],'`[_`]['crit['__['s.Name,'@3:Name]]]]]) >
==========================================
reduce in BAKERY-NARROWING-GRAPH : fold(state('_;_;_['__['s.Name,'@1:Name],'__[
    's.Name,'@1:Name],'__['`[_`]['idle.ModeIdle],'`[_`]['idle.ModeIdle]]]),
    state('_;_;_['X:Name,'Y:Name,'__['`[_`]['idle.ModeIdle],'`[_`][
    'idle.ModeIdle]]])) .
rewrites: 3
result Fold: fold(
  'X:Name <- '__['s.Name,'@1:Name] ; 
  'Y:Name <- '__['s.Name,'@1:Name])
==========================================
reduce in BAKERY-NARROWING-GRAPH : fold(state(init(1)), state(init(2))) .
rewrites: 9
result Fold: fold(
  'PWS:ProcWaitSet <- '`[_`]['idle.ModeIdle] ; 
  'X:Name <- 'X:Name ; 
  'Y:Name <- 'X:Name)
==========================================
reduce in BAKERY-NARROWING-GRAPH : fold(state(init(1)), state(init(4))) .
rewrites: 9
result Fold: fold(
  'X:Name <- 'X:Name ; 
  'Y:Name <- 'X:Name)
==========================================
reduce in BAKERY-NARROWING-GRAPH : not fold(state(init(4)), state(init(3))) ::
    Fold .
rewrites: 11
result Bool: true
==========================================
reduce in BAKERY-NARROWING-GRAPH : bfs(state(init(0)), 0) .
rewrites: 26
result [BFS]: 
.LGraph
| 0 |-> state('_;_;_['0.Name,'0.Name,'__['`[_`]['idle.ModeIdle],'`[_`][
    'idle.ModeIdle]]])
| 0
| 0 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['idle.ModeIdle]]]
    => '_;_;_['__['s.Name,'N:Name],'M:Name,'__['PS:ProcSet,'`[_`]['wait[
    'N:Name]]]] [narrowing label('wake)] ., none)]-> state('_;_;_['s.Name,
    '0.Name,'__['`[_`]['idle.ModeIdle],'`[_`]['wait['0.Name]]]])
[continue(0,0)]
.LGraph
==========================================
reduce in BAKERY-NARROWING-GRAPH : bfs(state(init(1)), 0) .
rewrites: 27
result [BFS]: 
.LGraph
| 0 |-> state('_;_;_['X:Name,'X:Name,'__['`[_`]['idle.ModeIdle],'`[_`][
    'idle.ModeIdle]]])
| 0
| 0 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['idle.ModeIdle]]]
    => '_;_;_['__['s.Name,'N:Name],'M:Name,'__['PS:ProcSet,'`[_`]['wait[
    'N:Name]]]] [narrowing label('wake)] ., 
  'X:Name <- '@1:Name)]-> state('_;_;_['__['s.Name,'@1:Name],'@1:Name,'__[
    '`[_`]['idle.ModeIdle],'`[_`]['wait['@1:Name]]]])
[continue(0,0)]
.LGraph
==========================================
reduce in BAKERY-NARROWING-GRAPH : bfs(state(init(2)), 0) .
rewrites: 47
result [BFS]: 
.LGraph
| 0 |-> state('_;_;_['X:Name,'Y:Name,'__['`[_`]['idle.ModeIdle],
    'PWS:ProcWaitSet]])
| 0
| 0 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['idle.ModeIdle]]]
    => '_;_;_['__['s.Name,'N:Name],'M:Name,'__['PS:ProcSet,'`[_`]['wait[
    'N:Name]]]] [narrowing label('wake)] ., 
  'PWS:ProcWaitSet <- '@3:ProcWaitSet ; 
  'X:Name <- '@1:Name ; 
  'Y:Name <- '@2:Name)]-> state('_;_;_['__['s.Name,'@1:Name],'@2:Name,'__[
    '@3:ProcWaitSet,'`[_`]['wait['@1:Name]]]])
0 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['wait['M:Name]]]] =>
    '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['crit['M:Name]]]] [narrowing
    label('crit)] ., 
  'PWS:ProcWaitSet <- '__['@3:ProcWaitSet,'`[_`]['wait['@2:Name]]] ; 
  'X:Name <- '@1:Name ; 
  'Y:Name <- '@2:Name)]-> state('_;_;_['@1:Name,'@2:Name,'__['@3:ProcWaitSet,
    '`[_`]['idle.ModeIdle],'`[_`]['crit['@2:Name]]]])
[continue(0,0)]
.LGraph
==========================================
reduce in BAKERY-NARROWING-GRAPH : bfs(state(init(3)), 0) .
rewrites: 64
result [BFS]: 
.LGraph
| 0 |-> state('_;_;_['__['s.Name,'X:Name],'Y:Name,'__['`[_`]['crit['__['s.Name,
    'X:Name]]],'`[_`]['idle.ModeIdle],'`[_`]['idle.ModeIdle],
    'PWS:ProcWaitSet]])
| 0
| 0 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['idle.ModeIdle]]]
    => '_;_;_['__['s.Name,'N:Name],'M:Name,'__['PS:ProcSet,'`[_`]['wait[
    'N:Name]]]] [narrowing label('wake)] ., 
  'PWS:ProcWaitSet <- '@2:ProcWaitSet ; 
  'X:Name <- '@3:Name ; 
  'Y:Name <- '@1:Name)]-> state('_;_;_['__['s.Name,'s.Name,'@3:Name],'@1:Name,
    '__['@2:ProcWaitSet,'`[_`]['idle.ModeIdle],'`[_`]['crit['__['s.Name,
    '@3:Name]]],'`[_`]['wait['__['s.Name,'@3:Name]]]]])
0 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['crit['M:Name]]]] =>
    '_;_;_['N:Name,'__['s.Name,'M:Name],'__['PS:ProcSet,'`[_`][
    'idle.ModeIdle]]] [narrowing label('exit)] ., 
  'PWS:ProcWaitSet <- '@1:ProcWaitSet ; 
  'X:Name <- '@2:Name ; 
  'Y:Name <- '__['s.Name,'@2:Name])]-> state('_;_;_['__['s.Name,'@2:Name],'__[
    's.Name,'s.Name,'@2:Name],'__['@1:ProcWaitSet,'`[_`]['idle.ModeIdle],
    '`[_`]['idle.ModeIdle],'`[_`]['idle.ModeIdle]]])
0 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['wait['M:Name]]]] =>
    '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['crit['M:Name]]]] [narrowing
    label('crit)] ., 
  'PWS:ProcWaitSet <- '__['@2:ProcWaitSet,'`[_`]['wait['@1:Name]]] ; 
  'X:Name <- '@3:Name ; 
  'Y:Name <- '@1:Name)]-> state('_;_;_['__['s.Name,'@3:Name],'@1:Name,'__[
    '@2:ProcWaitSet,'`[_`]['idle.ModeIdle],'`[_`]['idle.ModeIdle],'`[_`]['crit[
    '@1:Name]],'`[_`]['crit['__['s.Name,'@3:Name]]]]])
[continue(0,0)]
.LGraph
==========================================
reduce in BAKERY-NARROWING-GRAPH : bfs(state(init(0)), 2) .
rewrites: 183
result [BFS]: 
0 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['idle.ModeIdle]]] =>
    '_;_;_['__['s.Name,'N:Name],'M:Name,'__['PS:ProcSet,'`[_`]['wait[
    'N:Name]]]] [narrowing label('wake)] ., none)]-> 1
1 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['idle.ModeIdle]]] =>
    '_;_;_['__['s.Name,'N:Name],'M:Name,'__['PS:ProcSet,'`[_`]['wait[
    'N:Name]]]] [narrowing label('wake)] ., none)]-> 2
1 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['wait['M:Name]]]] =>
    '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['crit['M:Name]]]] [narrowing
    label('crit)] ., none)]-> 3
| 0 |-> state('_;_;_['0.Name,'0.Name,'__['`[_`]['idle.ModeIdle],'`[_`][
    'idle.ModeIdle]]])
1 |-> state('_;_;_['s.Name,'0.Name,'__['`[_`]['idle.ModeIdle],'`[_`]['wait[
    '0.Name]]]])
2 |-> state('_;_;_['__['s.Name,'s.Name],'0.Name,'__['`[_`]['wait['0.Name]],
    '`[_`]['wait['s.Name]]]])
3 |-> state('_;_;_['s.Name,'0.Name,'__['`[_`]['idle.ModeIdle],'`[_`]['crit[
    '0.Name]]]])
| 3
| 2 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['wait['M:Name]]]]
    => '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['crit['M:Name]]]] [
    narrowing label('crit)] ., none)]-> state('_;_;_['__['s.Name,'s.Name],
    '0.Name,'__['`[_`]['crit['0.Name]],'`[_`]['wait['s.Name]]]])
3 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['idle.ModeIdle]]] =>
    '_;_;_['__['s.Name,'N:Name],'M:Name,'__['PS:ProcSet,'`[_`]['wait[
    'N:Name]]]] [narrowing label('wake)] ., none)]-> state('_;_;_['__['s.Name,
    's.Name],'0.Name,'__['`[_`]['crit['0.Name]],'`[_`]['wait['s.Name]]]])
3 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['crit['M:Name]]]] =>
    '_;_;_['N:Name,'__['s.Name,'M:Name],'__['PS:ProcSet,'`[_`][
    'idle.ModeIdle]]] [narrowing label('exit)] ., none)]-> state('_;_;_[
    's.Name,'s.Name,'__['`[_`]['idle.ModeIdle],'`[_`]['idle.ModeIdle]]])
[continue(2,2)]
.LGraph
==========================================
reduce in BAKERY-NARROWING-GRAPH : bfs(state(init(1)), 2) .
rewrites: 184
result [BFS]: 
0 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['idle.ModeIdle]]] =>
    '_;_;_['__['s.Name,'N:Name],'M:Name,'__['PS:ProcSet,'`[_`]['wait[
    'N:Name]]]] [narrowing label('wake)] ., 
  'X:Name <- '@1:Name)]-> 1
1 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['idle.ModeIdle]]] =>
    '_;_;_['__['s.Name,'N:Name],'M:Name,'__['PS:ProcSet,'`[_`]['wait[
    'N:Name]]]] [narrowing label('wake)] ., 
  '@1:Name <- '@1:Name)]-> 2
1 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['wait['M:Name]]]] =>
    '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['crit['M:Name]]]] [narrowing
    label('crit)] ., 
  '@1:Name <- '@1:Name)]-> 3
| 0 |-> state('_;_;_['X:Name,'X:Name,'__['`[_`]['idle.ModeIdle],'`[_`][
    'idle.ModeIdle]]])
1 |-> state('_;_;_['__['s.Name,'@1:Name],'@1:Name,'__['`[_`]['idle.ModeIdle],
    '`[_`]['wait['@1:Name]]]])
2 |-> state('_;_;_['__['s.Name,'s.Name,'@1:Name],'@1:Name,'__['`[_`]['wait[
    '@1:Name]],'`[_`]['wait['__['s.Name,'@1:Name]]]]])
3 |-> state('_;_;_['__['s.Name,'@1:Name],'@1:Name,'__['`[_`]['idle.ModeIdle],
    '`[_`]['crit['@1:Name]]]])
| 3
| 2 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['wait['M:Name]]]]
    => '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['crit['M:Name]]]] [
    narrowing label('crit)] ., 
  '@1:Name <- '@1:Name)]-> state('_;_;_['__['s.Name,'s.Name,'@1:Name],'@1:Name,
    '__['`[_`]['crit['@1:Name]],'`[_`]['wait['__['s.Name,'@1:Name]]]]])
3 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['idle.ModeIdle]]] =>
    '_;_;_['__['s.Name,'N:Name],'M:Name,'__['PS:ProcSet,'`[_`]['wait[
    'N:Name]]]] [narrowing label('wake)] ., 
  '@1:Name <- '@1:Name)]-> state('_;_;_['__['s.Name,'s.Name,'@1:Name],'@1:Name,
    '__['`[_`]['crit['@1:Name]],'`[_`]['wait['__['s.Name,'@1:Name]]]]])
3 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['crit['M:Name]]]] =>
    '_;_;_['N:Name,'__['s.Name,'M:Name],'__['PS:ProcSet,'`[_`][
    'idle.ModeIdle]]] [narrowing label('exit)] ., 
  '@1:Name <- '@1:Name)]-> state('_;_;_['__['s.Name,'@1:Name],'__['s.Name,
    '@1:Name],'__['`[_`]['idle.ModeIdle],'`[_`]['idle.ModeIdle]]])
[continue(2,2)]
.LGraph
==========================================
reduce in BAKERY-NARROWING-GRAPH : bfs(state(init(2)), 2) .
rewrites: 562
result [BFS]: 
0 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['idle.ModeIdle]]] =>
    '_;_;_['__['s.Name,'N:Name],'M:Name,'__['PS:ProcSet,'`[_`]['wait[
    'N:Name]]]] [narrowing label('wake)] ., 
  'PWS:ProcWaitSet <- '@3:ProcWaitSet ; 
  'X:Name <- '@1:Name ; 
  'Y:Name <- '@2:Name)]-> 1
0 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['wait['M:Name]]]] =>
    '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['crit['M:Name]]]] [narrowing
    label('crit)] ., 
  'PWS:ProcWaitSet <- '__['@3:ProcWaitSet,'`[_`]['wait['@2:Name]]] ; 
  'X:Name <- '@1:Name ; 
  'Y:Name <- '@2:Name)]-> 2
1 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['idle.ModeIdle]]] =>
    '_;_;_['__['s.Name,'N:Name],'M:Name,'__['PS:ProcSet,'`[_`]['wait[
    'N:Name]]]] [narrowing label('wake)] ., 
  '@1:Name <- '@2:Name ; 
  '@2:Name <- '@1:Name ; 
  '@3:ProcWaitSet <- '__['@3:ProcWaitSet,'`[_`]['idle.ModeIdle]])]-> 1[fold(
  '@1:Name <- '__['s.Name,'@2:Name] ; 
  '@2:Name <- '@1:Name ; 
  '@3:ProcWaitSet <- '__['@3:ProcWaitSet,'`[_`]['wait['@2:Name]]])]
1 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['wait['M:Name]]]] =>
    '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['crit['M:Name]]]] [narrowing
    label('crit)] ., 
  '@1:Name <- '@1:Name ; 
  '@2:Name <- '@1:Name ; 
  '@3:ProcWaitSet <- '@2:ProcWaitSet)]-> 4
1 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['wait['M:Name]]]] =>
    '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['crit['M:Name]]]] [narrowing
    label('crit)] ., 
  '@1:Name <- '@2:Name ; 
  '@2:Name <- '@1:Name ; 
  '@3:ProcWaitSet <- '__['@3:ProcWaitSet,'`[_`]['wait['@1:Name]]])]-> 5
2 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['idle.ModeIdle]]] =>
    '_;_;_['__['s.Name,'N:Name],'M:Name,'__['PS:ProcSet,'`[_`]['wait[
    'N:Name]]]] [narrowing label('wake)] ., 
  '@1:Name <- '@1:Name ; 
  '@2:Name <- '@2:Name ; 
  '@3:ProcWaitSet <- '@3:ProcWaitSet)]-> 5[fold(
  '@1:Name <- '@2:Name ; 
  '@2:Name <- '@1:Name ; 
  '@3:ProcWaitSet <- '@3:ProcWaitSet)]
2 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['crit['M:Name]]]] =>
    '_;_;_['N:Name,'__['s.Name,'M:Name],'__['PS:ProcSet,'`[_`][
    'idle.ModeIdle]]] [narrowing label('exit)] ., 
  '@1:Name <- '@1:Name ; 
  '@2:Name <- '@2:Name ; 
  '@3:ProcWaitSet <- '@3:ProcWaitSet)]-> 0[fold(
  'PWS:ProcWaitSet <- '__['@3:ProcWaitSet,'`[_`]['idle.ModeIdle]] ; 
  'X:Name <- '@1:Name ; 
  'Y:Name <- '__['s.Name,'@2:Name])]
2 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['wait['M:Name]]]] =>
    '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['crit['M:Name]]]] [narrowing
    label('crit)] ., 
  '@1:Name <- '@1:Name ; 
  '@2:Name <- '@2:Name ; 
  '@3:ProcWaitSet <- '__['@3:ProcWaitSet,'`[_`]['wait['@2:Name]]])]-> 8
| 0 |-> state('_;_;_['X:Name,'Y:Name,'__['`[_`]['idle.ModeIdle],
    'PWS:ProcWaitSet]])
1 |-> state('_;_;_['__['s.Name,'@1:Name],'@2:Name,'__['@3:ProcWaitSet,'`[_`][
    'wait['@1:Name]]]])
2 |-> state('_;_;_['@1:Name,'@2:Name,'__['@3:ProcWaitSet,'`[_`][
    'idle.ModeIdle],'`[_`]['crit['@2:Name]]]])
4 |-> state('_;_;_['__['s.Name,'@1:Name],'@1:Name,'__['@2:ProcWaitSet,'`[_`][
    'crit['@1:Name]]]])
5 |-> state('_;_;_['__['s.Name,'@2:Name],'@1:Name,'__['@3:ProcWaitSet,'`[_`][
    'crit['@1:Name]],'`[_`]['wait['@2:Name]]]])
8 |-> state('_;_;_['@1:Name,'@2:Name,'__['@3:ProcWaitSet,'`[_`][
    'idle.ModeIdle],'`[_`]['crit['@2:Name]],'`[_`]['crit['@2:Name]]]])
| 8
| 4 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['idle.ModeIdle]]]
    => '_;_;_['__['s.Name,'N:Name],'M:Name,'__['PS:ProcSet,'`[_`]['wait[
    'N:Name]]]] [narrowing label('wake)] ., 
  '@1:Name <- '@1:Name ; 
  '@2:ProcWaitSet <- '__['@2:ProcWaitSet,'`[_`]['idle.ModeIdle]])]-> state(
    '_;_;_['__['s.Name,'s.Name,'@1:Name],'@1:Name,'__['@2:ProcWaitSet,'`[_`][
    'crit['@1:Name]],'`[_`]['wait['__['s.Name,'@1:Name]]]]])
4 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['crit['M:Name]]]] =>
    '_;_;_['N:Name,'__['s.Name,'M:Name],'__['PS:ProcSet,'`[_`][
    'idle.ModeIdle]]] [narrowing label('exit)] ., 
  '@1:Name <- '@1:Name ; 
  '@2:ProcWaitSet <- '@2:ProcWaitSet)]-> state('_;_;_['__['s.Name,'@1:Name],
    '__['s.Name,'@1:Name],'__['@2:ProcWaitSet,'`[_`]['idle.ModeIdle]]])
4 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['wait['M:Name]]]] =>
    '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['crit['M:Name]]]] [narrowing
    label('crit)] ., 
  '@1:Name <- '@1:Name ; 
  '@2:ProcWaitSet <- '__['@2:ProcWaitSet,'`[_`]['wait['@1:Name]]])]-> state(
    '_;_;_['__['s.Name,'@1:Name],'@1:Name,'__['@2:ProcWaitSet,'`[_`]['crit[
    '@1:Name]],'`[_`]['crit['@1:Name]]]])
5 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['idle.ModeIdle]]] =>
    '_;_;_['__['s.Name,'N:Name],'M:Name,'__['PS:ProcSet,'`[_`]['wait[
    'N:Name]]]] [narrowing label('wake)] ., 
  '@1:Name <- '@1:Name ; 
  '@2:Name <- '@2:Name ; 
  '@3:ProcWaitSet <- '__['@3:ProcWaitSet,'`[_`]['idle.ModeIdle]])]-> state(
    '_;_;_['__['s.Name,'s.Name,'@2:Name],'@1:Name,'__['@3:ProcWaitSet,'`[_`][
    'crit['@1:Name]],'`[_`]['wait['@2:Name]],'`[_`]['wait['__['s.Name,
    '@2:Name]]]]])
5 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['crit['M:Name]]]] =>
    '_;_;_['N:Name,'__['s.Name,'M:Name],'__['PS:ProcSet,'`[_`][
    'idle.ModeIdle]]] [narrowing label('exit)] ., 
  '@1:Name <- '@1:Name ; 
  '@2:Name <- '@2:Name ; 
  '@3:ProcWaitSet <- '@3:ProcWaitSet)]-> state('_;_;_['__['s.Name,'@2:Name],
    '__['s.Name,'@1:Name],'__['@3:ProcWaitSet,'`[_`]['idle.ModeIdle],'`[_`][
    'wait['@2:Name]]]])
5 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['wait['M:Name]]]] =>
    '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['crit['M:Name]]]] [narrowing
    label('crit)] ., 
  '@1:Name <- '@1:Name ; 
  '@2:Name <- '@1:Name ; 
  '@3:ProcWaitSet <- '@2:ProcWaitSet)]-> state('_;_;_['__['s.Name,'@1:Name],
    '@1:Name,'__['@2:ProcWaitSet,'`[_`]['crit['@1:Name]],'`[_`]['crit[
    '@1:Name]]]])
5 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['wait['M:Name]]]] =>
    '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['crit['M:Name]]]] [narrowing
    label('crit)] ., 
  '@1:Name <- '@1:Name ; 
  '@2:Name <- '@2:Name ; 
  '@3:ProcWaitSet <- '__['@3:ProcWaitSet,'`[_`]['wait['@1:Name]]])]-> state(
    '_;_;_['__['s.Name,'@2:Name],'@1:Name,'__['@3:ProcWaitSet,'`[_`]['crit[
    '@1:Name]],'`[_`]['crit['@1:Name]],'`[_`]['wait['@2:Name]]]])
8 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['idle.ModeIdle]]] =>
    '_;_;_['__['s.Name,'N:Name],'M:Name,'__['PS:ProcSet,'`[_`]['wait[
    'N:Name]]]] [narrowing label('wake)] ., 
  '@1:Name <- '@1:Name ; 
  '@2:Name <- '@2:Name ; 
  '@3:ProcWaitSet <- '@3:ProcWaitSet)]-> state('_;_;_['__['s.Name,'@1:Name],
    '@2:Name,'__['@3:ProcWaitSet,'`[_`]['crit['@2:Name]],'`[_`]['crit[
    '@2:Name]],'`[_`]['wait['@1:Name]]]])
8 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['crit['M:Name]]]] =>
    '_;_;_['N:Name,'__['s.Name,'M:Name],'__['PS:ProcSet,'`[_`][
    'idle.ModeIdle]]] [narrowing label('exit)] ., 
  '@1:Name <- '@1:Name ; 
  '@2:Name <- '@2:Name ; 
  '@3:ProcWaitSet <- '@3:ProcWaitSet)]-> state('_;_;_['@1:Name,'__['s.Name,
    '@2:Name],'__['@3:ProcWaitSet,'`[_`]['idle.ModeIdle],'`[_`][
    'idle.ModeIdle],'`[_`]['crit['@2:Name]]]])
8 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['wait['M:Name]]]] =>
    '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['crit['M:Name]]]] [narrowing
    label('crit)] ., 
  '@1:Name <- '@1:Name ; 
  '@2:Name <- '@2:Name ; 
  '@3:ProcWaitSet <- '__['@3:ProcWaitSet,'`[_`]['wait['@2:Name]]])]-> state(
    '_;_;_['@1:Name,'@2:Name,'__['@3:ProcWaitSet,'`[_`]['idle.ModeIdle],'`[_`][
    'crit['@2:Name]],'`[_`]['crit['@2:Name]],'`[_`]['crit['@2:Name]]]])
[continue(2,2)]
.LGraph
==========================================
reduce in BAKERY-NARROWING-GRAPH : bfs(state(init(3)), 2) .
rewrites: 1023
result [BFS]: 
0 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['idle.ModeIdle]]] =>
    '_;_;_['__['s.Name,'N:Name],'M:Name,'__['PS:ProcSet,'`[_`]['wait[
    'N:Name]]]] [narrowing label('wake)] ., 
  'PWS:ProcWaitSet <- '@2:ProcWaitSet ; 
  'X:Name <- '@3:Name ; 
  'Y:Name <- '@1:Name)]-> 1
0 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['crit['M:Name]]]] =>
    '_;_;_['N:Name,'__['s.Name,'M:Name],'__['PS:ProcSet,'`[_`][
    'idle.ModeIdle]]] [narrowing label('exit)] ., 
  'PWS:ProcWaitSet <- '@1:ProcWaitSet ; 
  'X:Name <- '@2:Name ; 
  'Y:Name <- '__['s.Name,'@2:Name])]-> 2
0 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['wait['M:Name]]]] =>
    '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['crit['M:Name]]]] [narrowing
    label('crit)] ., 
  'PWS:ProcWaitSet <- '__['@2:ProcWaitSet,'`[_`]['wait['@1:Name]]] ; 
  'X:Name <- '@3:Name ; 
  'Y:Name <- '@1:Name)]-> 3
1 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['idle.ModeIdle]]] =>
    '_;_;_['__['s.Name,'N:Name],'M:Name,'__['PS:ProcSet,'`[_`]['wait[
    'N:Name]]]] [narrowing label('wake)] ., 
  '@1:Name <- '@1:Name ; 
  '@2:ProcWaitSet <- '@2:ProcWaitSet ; 
  '@3:Name <- '@3:Name)]-> 4
1 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['crit['M:Name]]]] =>
    '_;_;_['N:Name,'__['s.Name,'M:Name],'__['PS:ProcSet,'`[_`][
    'idle.ModeIdle]]] [narrowing label('exit)] ., 
  '@1:Name <- '__['s.Name,'@2:Name] ; 
  '@2:ProcWaitSet <- '@1:ProcWaitSet ; 
  '@3:Name <- '@2:Name)]-> 5
1 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['wait['M:Name]]]] =>
    '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['crit['M:Name]]]] [narrowing
    label('crit)] ., 
  '@1:Name <- '@1:Name ; 
  '@2:ProcWaitSet <- '__['@2:ProcWaitSet,'`[_`]['wait['@1:Name]]] ; 
  '@3:Name <- '@3:Name)]-> 6
1 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['wait['M:Name]]]] =>
    '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['crit['M:Name]]]] [narrowing
    label('crit)] ., 
  '@1:Name <- '__['s.Name,'@2:Name] ; 
  '@2:ProcWaitSet <- '@1:ProcWaitSet ; 
  '@3:Name <- '@2:Name)]-> 7
2 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['idle.ModeIdle]]] =>
    '_;_;_['__['s.Name,'N:Name],'M:Name,'__['PS:ProcSet,'`[_`]['wait[
    'N:Name]]]] [narrowing label('wake)] ., 
  '@1:ProcWaitSet <- '@2:ProcWaitSet ; 
  '@2:Name <- '@1:Name)]-> 5[fold(
  '@1:ProcWaitSet <- '@2:ProcWaitSet ; 
  '@2:Name <- '@1:Name)]
2 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['wait['M:Name]]]] =>
    '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['crit['M:Name]]]] [narrowing
    label('crit)] ., 
  '@1:ProcWaitSet <- '__['@2:ProcWaitSet,'`[_`]['wait['__['s.Name,'s.Name,
    '@1:Name]]]] ; 
  '@2:Name <- '@1:Name)]-> 9
3 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['idle.ModeIdle]]] =>
    '_;_;_['__['s.Name,'N:Name],'M:Name,'__['PS:ProcSet,'`[_`]['wait[
    'N:Name]]]] [narrowing label('wake)] ., 
  '@1:Name <- '@1:Name ; 
  '@2:ProcWaitSet <- '@2:ProcWaitSet ; 
  '@3:Name <- '@3:Name)]-> 6
3 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['crit['M:Name]]]] =>
    '_;_;_['N:Name,'__['s.Name,'M:Name],'__['PS:ProcSet,'`[_`][
    'idle.ModeIdle]]] [narrowing label('exit)] ., 
  '@1:Name <- '@1:Name ; 
  '@2:ProcWaitSet <- '@2:ProcWaitSet ; 
  '@3:Name <- '@3:Name)]-> 0[fold(
  'PWS:ProcWaitSet <- '__['@2:ProcWaitSet,'`[_`]['idle.ModeIdle]] ; 
  'X:Name <- '@3:Name ; 
  'Y:Name <- '__['s.Name,'@1:Name])]
3 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['wait['M:Name]]]] =>
    '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['crit['M:Name]]]] [narrowing
    label('crit)] ., 
  '@1:Name <- '@1:Name ; 
  '@2:ProcWaitSet <- '__['@2:ProcWaitSet,'`[_`]['wait['@1:Name]]] ; 
  '@3:Name <- '@3:Name)]-> 12
| 0 |-> state('_;_;_['__['s.Name,'X:Name],'Y:Name,'__['`[_`]['crit['__['s.Name,
    'X:Name]]],'`[_`]['idle.ModeIdle],'`[_`]['idle.ModeIdle],
    'PWS:ProcWaitSet]])
1 |-> state('_;_;_['__['s.Name,'s.Name,'@3:Name],'@1:Name,'__['@2:ProcWaitSet,
    '`[_`]['idle.ModeIdle],'`[_`]['crit['__['s.Name,'@3:Name]]],'`[_`]['wait[
    '__['s.Name,'@3:Name]]]]])
2 |-> state('_;_;_['__['s.Name,'@2:Name],'__['s.Name,'s.Name,'@2:Name],'__[
    '@1:ProcWaitSet,'`[_`]['idle.ModeIdle],'`[_`]['idle.ModeIdle],'`[_`][
    'idle.ModeIdle]]])
3 |-> state('_;_;_['__['s.Name,'@3:Name],'@1:Name,'__['@2:ProcWaitSet,'`[_`][
    'idle.ModeIdle],'`[_`]['idle.ModeIdle],'`[_`]['crit['@1:Name]],'`[_`][
    'crit['__['s.Name,'@3:Name]]]]])
4 |-> state('_;_;_['__['s.Name,'s.Name,'s.Name,'@3:Name],'@1:Name,'__[
    '@2:ProcWaitSet,'`[_`]['crit['__['s.Name,'@3:Name]]],'`[_`]['wait['__[
    's.Name,'@3:Name]]],'`[_`]['wait['__['s.Name,'s.Name,'@3:Name]]]]])
5 |-> state('_;_;_['__['s.Name,'s.Name,'@2:Name],'__['s.Name,'s.Name,'@2:Name],
    '__['@1:ProcWaitSet,'`[_`]['idle.ModeIdle],'`[_`]['idle.ModeIdle],'`[_`][
    'wait['__['s.Name,'@2:Name]]]]])
6 |-> state('_;_;_['__['s.Name,'s.Name,'@3:Name],'@1:Name,'__['@2:ProcWaitSet,
    '`[_`]['idle.ModeIdle],'`[_`]['crit['@1:Name]],'`[_`]['crit['__['s.Name,
    '@3:Name]]],'`[_`]['wait['__['s.Name,'@3:Name]]]]])
7 |-> state('_;_;_['__['s.Name,'s.Name,'@2:Name],'__['s.Name,'@2:Name],'__[
    '@1:ProcWaitSet,'`[_`]['idle.ModeIdle],'`[_`]['crit['__['s.Name,
    '@2:Name]]],'`[_`]['crit['__['s.Name,'@2:Name]]]]])
9 |-> state('_;_;_['__['s.Name,'@1:Name],'__['s.Name,'s.Name,'@1:Name],'__[
    '@2:ProcWaitSet,'`[_`]['idle.ModeIdle],'`[_`]['idle.ModeIdle],'`[_`][
    'idle.ModeIdle],'`[_`]['crit['__['s.Name,'s.Name,'@1:Name]]]]])
12 |-> state('_;_;_['__['s.Name,'@3:Name],'@1:Name,'__['@2:ProcWaitSet,'`[_`][
    'idle.ModeIdle],'`[_`]['idle.ModeIdle],'`[_`]['crit['@1:Name]],'`[_`][
    'crit['@1:Name]],'`[_`]['crit['__['s.Name,'@3:Name]]]]])
| 12
| 4 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['idle.ModeIdle]]]
    => '_;_;_['__['s.Name,'N:Name],'M:Name,'__['PS:ProcSet,'`[_`]['wait[
    'N:Name]]]] [narrowing label('wake)] ., 
  '@1:Name <- '@1:Name ; 
  '@2:ProcWaitSet <- '__['@2:ProcWaitSet,'`[_`]['idle.ModeIdle]] ; 
  '@3:Name <- '@3:Name)]-> state('_;_;_['__['s.Name,'s.Name,'s.Name,'s.Name,
    '@3:Name],'@1:Name,'__['@2:ProcWaitSet,'`[_`]['crit['__['s.Name,
    '@3:Name]]],'`[_`]['wait['__['s.Name,'@3:Name]]],'`[_`]['wait['__['s.Name,
    's.Name,'@3:Name]]],'`[_`]['wait['__['s.Name,'s.Name,'s.Name,'@3:Name]]]]])
4 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['crit['M:Name]]]] =>
    '_;_;_['N:Name,'__['s.Name,'M:Name],'__['PS:ProcSet,'`[_`][
    'idle.ModeIdle]]] [narrowing label('exit)] ., 
  '@1:Name <- '__['s.Name,'@2:Name] ; 
  '@2:ProcWaitSet <- '@1:ProcWaitSet ; 
  '@3:Name <- '@2:Name)]-> state('_;_;_['__['s.Name,'s.Name,'s.Name,'@2:Name],
    '__['s.Name,'s.Name,'@2:Name],'__['@1:ProcWaitSet,'`[_`]['idle.ModeIdle],
    '`[_`]['wait['__['s.Name,'@2:Name]]],'`[_`]['wait['__['s.Name,'s.Name,
    '@2:Name]]]]])
4 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['wait['M:Name]]]] =>
    '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['crit['M:Name]]]] [narrowing
    label('crit)] ., 
  '@1:Name <- '@1:Name ; 
  '@2:ProcWaitSet <- '__['@2:ProcWaitSet,'`[_`]['wait['@1:Name]]] ; 
  '@3:Name <- '@3:Name)]-> state('_;_;_['__['s.Name,'s.Name,'s.Name,'@3:Name],
    '@1:Name,'__['@2:ProcWaitSet,'`[_`]['crit['@1:Name]],'`[_`]['crit['__[
    's.Name,'@3:Name]]],'`[_`]['wait['__['s.Name,'@3:Name]]],'`[_`]['wait['__[
    's.Name,'s.Name,'@3:Name]]]]])
4 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['wait['M:Name]]]] =>
    '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['crit['M:Name]]]] [narrowing
    label('crit)] ., 
  '@1:Name <- '__['s.Name,'@2:Name] ; 
  '@2:ProcWaitSet <- '@1:ProcWaitSet ; 
  '@3:Name <- '@2:Name)]-> state('_;_;_['__['s.Name,'s.Name,'s.Name,'@2:Name],
    '__['s.Name,'@2:Name],'__['@1:ProcWaitSet,'`[_`]['crit['__['s.Name,
    '@2:Name]]],'`[_`]['crit['__['s.Name,'@2:Name]]],'`[_`]['wait['__['s.Name,
    's.Name,'@2:Name]]]]])
4 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['wait['M:Name]]]] =>
    '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['crit['M:Name]]]] [narrowing
    label('crit)] ., 
  '@1:Name <- '__['s.Name,'s.Name,'@2:Name] ; 
  '@2:ProcWaitSet <- '@1:ProcWaitSet ; 
  '@3:Name <- '@2:Name)]-> state('_;_;_['__['s.Name,'s.Name,'s.Name,'@2:Name],
    '__['s.Name,'s.Name,'@2:Name],'__['@1:ProcWaitSet,'`[_`]['crit['__['s.Name,
    '@2:Name]]],'`[_`]['crit['__['s.Name,'s.Name,'@2:Name]]],'`[_`]['wait['__[
    's.Name,'@2:Name]]]]])
5 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['idle.ModeIdle]]] =>
    '_;_;_['__['s.Name,'N:Name],'M:Name,'__['PS:ProcSet,'`[_`]['wait[
    'N:Name]]]] [narrowing label('wake)] ., 
  '@1:ProcWaitSet <- '@1:ProcWaitSet ; 
  '@2:Name <- '@2:Name)]-> state('_;_;_['__['s.Name,'s.Name,'s.Name,'@2:Name],
    '__['s.Name,'s.Name,'@2:Name],'__['@1:ProcWaitSet,'`[_`]['idle.ModeIdle],
    '`[_`]['wait['__['s.Name,'@2:Name]]],'`[_`]['wait['__['s.Name,'s.Name,
    '@2:Name]]]]])
5 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['wait['M:Name]]]] =>
    '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['crit['M:Name]]]] [narrowing
    label('crit)] ., 
  '@1:ProcWaitSet <- '__['@1:ProcWaitSet,'`[_`]['wait['__['s.Name,'s.Name,
    '@2:Name]]]] ; 
  '@2:Name <- '@2:Name)]-> state('_;_;_['__['s.Name,'s.Name,'@2:Name],'__[
    's.Name,'s.Name,'@2:Name],'__['@1:ProcWaitSet,'`[_`]['idle.ModeIdle],
    '`[_`]['idle.ModeIdle],'`[_`]['crit['__['s.Name,'s.Name,'@2:Name]]],'`[_`][
    'wait['__['s.Name,'@2:Name]]]]])
6 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['idle.ModeIdle]]] =>
    '_;_;_['__['s.Name,'N:Name],'M:Name,'__['PS:ProcSet,'`[_`]['wait[
    'N:Name]]]] [narrowing label('wake)] ., 
  '@1:Name <- '@1:Name ; 
  '@2:ProcWaitSet <- '@2:ProcWaitSet ; 
  '@3:Name <- '@3:Name)]-> state('_;_;_['__['s.Name,'s.Name,'s.Name,'@3:Name],
    '@1:Name,'__['@2:ProcWaitSet,'`[_`]['crit['@1:Name]],'`[_`]['crit['__[
    's.Name,'@3:Name]]],'`[_`]['wait['__['s.Name,'@3:Name]]],'`[_`]['wait['__[
    's.Name,'s.Name,'@3:Name]]]]])
6 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['crit['M:Name]]]] =>
    '_;_;_['N:Name,'__['s.Name,'M:Name],'__['PS:ProcSet,'`[_`][
    'idle.ModeIdle]]] [narrowing label('exit)] ., 
  '@1:Name <- '@1:Name ; 
  '@2:ProcWaitSet <- '@2:ProcWaitSet ; 
  '@3:Name <- '@3:Name)]-> state('_;_;_['__['s.Name,'s.Name,'@3:Name],'__[
    's.Name,'@1:Name],'__['@2:ProcWaitSet,'`[_`]['idle.ModeIdle],'`[_`][
    'idle.ModeIdle],'`[_`]['crit['__['s.Name,'@3:Name]]],'`[_`]['wait['__[
    's.Name,'@3:Name]]]]])
6 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['wait['M:Name]]]] =>
    '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['crit['M:Name]]]] [narrowing
    label('crit)] ., 
  '@1:Name <- '@1:Name ; 
  '@2:ProcWaitSet <- '__['@2:ProcWaitSet,'`[_`]['wait['@1:Name]]] ; 
  '@3:Name <- '@3:Name)]-> state('_;_;_['__['s.Name,'s.Name,'@3:Name],'@1:Name,
    '__['@2:ProcWaitSet,'`[_`]['idle.ModeIdle],'`[_`]['crit['@1:Name]],'`[_`][
    'crit['@1:Name]],'`[_`]['crit['__['s.Name,'@3:Name]]],'`[_`]['wait['__[
    's.Name,'@3:Name]]]]])
6 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['wait['M:Name]]]] =>
    '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['crit['M:Name]]]] [narrowing
    label('crit)] ., 
  '@1:Name <- '__['s.Name,'@2:Name] ; 
  '@2:ProcWaitSet <- '@1:ProcWaitSet ; 
  '@3:Name <- '@2:Name)]-> state('_;_;_['__['s.Name,'s.Name,'@2:Name],'__[
    's.Name,'@2:Name],'__['@1:ProcWaitSet,'`[_`]['idle.ModeIdle],'`[_`]['crit[
    '__['s.Name,'@2:Name]]],'`[_`]['crit['__['s.Name,'@2:Name]]],'`[_`]['crit[
    '__['s.Name,'@2:Name]]]]])
7 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['idle.ModeIdle]]] =>
    '_;_;_['__['s.Name,'N:Name],'M:Name,'__['PS:ProcSet,'`[_`]['wait[
    'N:Name]]]] [narrowing label('wake)] ., 
  '@1:ProcWaitSet <- '@1:ProcWaitSet ; 
  '@2:Name <- '@2:Name)]-> state('_;_;_['__['s.Name,'s.Name,'s.Name,'@2:Name],
    '__['s.Name,'@2:Name],'__['@1:ProcWaitSet,'`[_`]['crit['__['s.Name,
    '@2:Name]]],'`[_`]['crit['__['s.Name,'@2:Name]]],'`[_`]['wait['__['s.Name,
    's.Name,'@2:Name]]]]])
7 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['crit['M:Name]]]] =>
    '_;_;_['N:Name,'__['s.Name,'M:Name],'__['PS:ProcSet,'`[_`][
    'idle.ModeIdle]]] [narrowing label('exit)] ., 
  '@1:ProcWaitSet <- '@1:ProcWaitSet ; 
  '@2:Name <- '@2:Name)]-> state('_;_;_['__['s.Name,'s.Name,'@2:Name],'__[
    's.Name,'s.Name,'@2:Name],'__['@1:ProcWaitSet,'`[_`]['idle.ModeIdle],
    '`[_`]['idle.ModeIdle],'`[_`]['crit['__['s.Name,'@2:Name]]]]])
7 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['wait['M:Name]]]] =>
    '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['crit['M:Name]]]] [narrowing
    label('crit)] ., 
  '@1:ProcWaitSet <- '__['@1:ProcWaitSet,'`[_`]['wait['__['s.Name,'@2:Name]]]]
    ; 
  '@2:Name <- '@2:Name)]-> state('_;_;_['__['s.Name,'s.Name,'@2:Name],'__[
    's.Name,'@2:Name],'__['@1:ProcWaitSet,'`[_`]['idle.ModeIdle],'`[_`]['crit[
    '__['s.Name,'@2:Name]]],'`[_`]['crit['__['s.Name,'@2:Name]]],'`[_`]['crit[
    '__['s.Name,'@2:Name]]]]])
9 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['idle.ModeIdle]]] =>
    '_;_;_['__['s.Name,'N:Name],'M:Name,'__['PS:ProcSet,'`[_`]['wait[
    'N:Name]]]] [narrowing label('wake)] ., 
  '@1:Name <- '@2:Name ; 
  '@2:ProcWaitSet <- '@1:ProcWaitSet)]-> state('_;_;_['__['s.Name,'s.Name,
    '@2:Name],'__['s.Name,'s.Name,'@2:Name],'__['@1:ProcWaitSet,'`[_`][
    'idle.ModeIdle],'`[_`]['idle.ModeIdle],'`[_`]['crit['__['s.Name,'s.Name,
    '@2:Name]]],'`[_`]['wait['__['s.Name,'@2:Name]]]]])
9 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['crit['M:Name]]]] =>
    '_;_;_['N:Name,'__['s.Name,'M:Name],'__['PS:ProcSet,'`[_`][
    'idle.ModeIdle]]] [narrowing label('exit)] ., 
  '@1:Name <- '@2:Name ; 
  '@2:ProcWaitSet <- '@1:ProcWaitSet)]-> state('_;_;_['__['s.Name,'@2:Name],
    '__['s.Name,'s.Name,'s.Name,'@2:Name],'__['@1:ProcWaitSet,'`[_`][
    'idle.ModeIdle],'`[_`]['idle.ModeIdle],'`[_`]['idle.ModeIdle],'`[_`][
    'idle.ModeIdle]]])
9 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['wait['M:Name]]]] =>
    '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['crit['M:Name]]]] [narrowing
    label('crit)] ., 
  '@1:Name <- '@2:Name ; 
  '@2:ProcWaitSet <- '__['@1:ProcWaitSet,'`[_`]['wait['__['s.Name,'s.Name,
    '@2:Name]]]])]-> state('_;_;_['__['s.Name,'@2:Name],'__['s.Name,'s.Name,
    '@2:Name],'__['@1:ProcWaitSet,'`[_`]['idle.ModeIdle],'`[_`][
    'idle.ModeIdle],'`[_`]['idle.ModeIdle],'`[_`]['crit['__['s.Name,'s.Name,
    '@2:Name]]],'`[_`]['crit['__['s.Name,'s.Name,'@2:Name]]]]])
12 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['idle.ModeIdle]]]
    => '_;_;_['__['s.Name,'N:Name],'M:Name,'__['PS:ProcSet,'`[_`]['wait[
    'N:Name]]]] [narrowing label('wake)] ., 
  '@1:Name <- '@1:Name ; 
  '@2:ProcWaitSet <- '@2:ProcWaitSet ; 
  '@3:Name <- '@3:Name)]-> state('_;_;_['__['s.Name,'s.Name,'@3:Name],'@1:Name,
    '__['@2:ProcWaitSet,'`[_`]['idle.ModeIdle],'`[_`]['crit['@1:Name]],'`[_`][
    'crit['@1:Name]],'`[_`]['crit['__['s.Name,'@3:Name]]],'`[_`]['wait['__[
    's.Name,'@3:Name]]]]])
12 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['crit['M:Name]]]]
    => '_;_;_['N:Name,'__['s.Name,'M:Name],'__['PS:ProcSet,'`[_`][
    'idle.ModeIdle]]] [narrowing label('exit)] ., 
  '@1:Name <- '@1:Name ; 
  '@2:ProcWaitSet <- '@2:ProcWaitSet ; 
  '@3:Name <- '@3:Name)]-> state('_;_;_['__['s.Name,'@3:Name],'__['s.Name,
    '@1:Name],'__['@2:ProcWaitSet,'`[_`]['idle.ModeIdle],'`[_`][
    'idle.ModeIdle],'`[_`]['idle.ModeIdle],'`[_`]['crit['@1:Name]],'`[_`][
    'crit['__['s.Name,'@3:Name]]]]])
12 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['wait['M:Name]]]]
    => '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['crit['M:Name]]]] [
    narrowing label('crit)] ., 
  '@1:Name <- '@1:Name ; 
  '@2:ProcWaitSet <- '__['@2:ProcWaitSet,'`[_`]['wait['@1:Name]]] ; 
  '@3:Name <- '@3:Name)]-> state('_;_;_['__['s.Name,'@3:Name],'@1:Name,'__[
    '@2:ProcWaitSet,'`[_`]['idle.ModeIdle],'`[_`]['idle.ModeIdle],'`[_`]['crit[
    '@1:Name]],'`[_`]['crit['@1:Name]],'`[_`]['crit['@1:Name]],'`[_`]['crit[
    '__['s.Name,'@3:Name]]]]])
[continue(2,2)]
.LGraph
==========================================
reduce in BAKERY-NARROWING-GRAPH : bfs(state(init(1))) .
rewrites: 316
result LGraph: 
0 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['idle.ModeIdle]]] =>
    '_;_;_['__['s.Name,'N:Name],'M:Name,'__['PS:ProcSet,'`[_`]['wait[
    'N:Name]]]] [narrowing label('wake)] ., 
  'X:Name <- '@1:Name)]-> 1
1 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['idle.ModeIdle]]] =>
    '_;_;_['__['s.Name,'N:Name],'M:Name,'__['PS:ProcSet,'`[_`]['wait[
    'N:Name]]]] [narrowing label('wake)] ., 
  '@1:Name <- '@1:Name)]-> 2
1 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['wait['M:Name]]]] =>
    '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['crit['M:Name]]]] [narrowing
    label('crit)] ., 
  '@1:Name <- '@1:Name)]-> 3
2 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['wait['M:Name]]]] =>
    '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['crit['M:Name]]]] [narrowing
    label('crit)] ., 
  '@1:Name <- '@1:Name)]-> 4
3 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['idle.ModeIdle]]] =>
    '_;_;_['__['s.Name,'N:Name],'M:Name,'__['PS:ProcSet,'`[_`]['wait[
    'N:Name]]]] [narrowing label('wake)] ., 
  '@1:Name <- '@1:Name)]-> 4
3 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['crit['M:Name]]]] =>
    '_;_;_['N:Name,'__['s.Name,'M:Name],'__['PS:ProcSet,'`[_`][
    'idle.ModeIdle]]] [narrowing label('exit)] ., 
  '@1:Name <- '@1:Name)]-> 0[fold(
  'X:Name <- '__['s.Name,'@1:Name])]
4 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['crit['M:Name]]]] =>
    '_;_;_['N:Name,'__['s.Name,'M:Name],'__['PS:ProcSet,'`[_`][
    'idle.ModeIdle]]] [narrowing label('exit)] ., 
  '@1:Name <- '@1:Name)]-> 1[fold(
  '@1:Name <- '__['s.Name,'@1:Name])]
| 0 |-> state('_;_;_['X:Name,'X:Name,'__['`[_`]['idle.ModeIdle],'`[_`][
    'idle.ModeIdle]]])
1 |-> state('_;_;_['__['s.Name,'@1:Name],'@1:Name,'__['`[_`]['idle.ModeIdle],
    '`[_`]['wait['@1:Name]]]])
2 |-> state('_;_;_['__['s.Name,'s.Name,'@1:Name],'@1:Name,'__['`[_`]['wait[
    '@1:Name]],'`[_`]['wait['__['s.Name,'@1:Name]]]]])
3 |-> state('_;_;_['__['s.Name,'@1:Name],'@1:Name,'__['`[_`]['idle.ModeIdle],
    '`[_`]['crit['@1:Name]]]])
4 |-> state('_;_;_['__['s.Name,'s.Name,'@1:Name],'@1:Name,'__['`[_`]['crit[
    '@1:Name]],'`[_`]['wait['__['s.Name,'@1:Name]]]]])
| 7
==========================================
reduce in BAKERY-NARROWING-GRAPH : bfs(state(init(4)), 10) .
rewrites: 910
result [BFS]: 
0 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['idle.ModeIdle]]] =>
    '_;_;_['__['s.Name,'N:Name],'M:Name,'__['PS:ProcSet,'`[_`]['wait[
    'N:Name]]]] [narrowing label('wake)] ., 
  'X:Name <- '@1:Name ; 
  'Y:Name <- '@2:Name)]-> 1
1 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['idle.ModeIdle]]] =>
    '_;_;_['__['s.Name,'N:Name],'M:Name,'__['PS:ProcSet,'`[_`]['wait[
    'N:Name]]]] [narrowing label('wake)] ., 
  '@1:Name <- '@2:Name ; 
  '@2:Name <- '@1:Name)]-> 2
1 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['wait['M:Name]]]] =>
    '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['crit['M:Name]]]] [narrowing
    label('crit)] ., 
  '@1:Name <- '@1:Name ; 
  '@2:Name <- '@1:Name)]-> 3
2 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['wait['M:Name]]]] =>
    '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['crit['M:Name]]]] [narrowing
    label('crit)] ., 
  '@1:Name <- '@1:Name ; 
  '@2:Name <- '@1:Name)]-> 4
2 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['wait['M:Name]]]] =>
    '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['crit['M:Name]]]] [narrowing
    label('crit)] ., 
  '@1:Name <- '__['s.Name,'@1:Name] ; 
  '@2:Name <- '@1:Name)]-> 5
3 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['idle.ModeIdle]]] =>
    '_;_;_['__['s.Name,'N:Name],'M:Name,'__['PS:ProcSet,'`[_`]['wait[
    'N:Name]]]] [narrowing label('wake)] ., 
  '@1:Name <- '@1:Name)]-> 4
3 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['crit['M:Name]]]] =>
    '_;_;_['N:Name,'__['s.Name,'M:Name],'__['PS:ProcSet,'`[_`][
    'idle.ModeIdle]]] [narrowing label('exit)] ., 
  '@1:Name <- '@1:Name)]-> 0[fold(
  'X:Name <- '__['s.Name,'@1:Name] ; 
  'Y:Name <- '__['s.Name,'@1:Name])]
4 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['crit['M:Name]]]] =>
    '_;_;_['N:Name,'__['s.Name,'M:Name],'__['PS:ProcSet,'`[_`][
    'idle.ModeIdle]]] [narrowing label('exit)] ., 
  '@1:Name <- '@1:Name)]-> 1[fold(
  '@1:Name <- '__['s.Name,'@1:Name] ; 
  '@2:Name <- '__['s.Name,'@1:Name])]
5 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['crit['M:Name]]]] =>
    '_;_;_['N:Name,'__['s.Name,'M:Name],'__['PS:ProcSet,'`[_`][
    'idle.ModeIdle]]] [narrowing label('exit)] ., 
  '@1:Name <- '@1:Name)]-> 9
9 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['idle.ModeIdle]]] =>
    '_;_;_['__['s.Name,'N:Name],'M:Name,'__['PS:ProcSet,'`[_`]['wait[
    'N:Name]]]] [narrowing label('wake)] ., 
  '@1:Name <- '@1:Name)]-> 10
10 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['wait['M:Name]]]]
    => '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['crit['M:Name]]]] [
    narrowing label('crit)] ., 
  '@1:Name <- '@1:Name)]-> 11
11 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['crit['M:Name]]]]
    => '_;_;_['N:Name,'__['s.Name,'M:Name],'__['PS:ProcSet,'`[_`][
    'idle.ModeIdle]]] [narrowing label('exit)] ., 
  '@1:Name <- '@1:Name)]-> 12
12 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['idle.ModeIdle]]]
    => '_;_;_['__['s.Name,'N:Name],'M:Name,'__['PS:ProcSet,'`[_`]['wait[
    'N:Name]]]] [narrowing label('wake)] ., 
  '@1:Name <- '@1:Name)]-> 13
13 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['wait['M:Name]]]]
    => '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['crit['M:Name]]]] [
    narrowing label('crit)] ., 
  '@1:Name <- '@1:Name)]-> 14
14 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['crit['M:Name]]]]
    => '_;_;_['N:Name,'__['s.Name,'M:Name],'__['PS:ProcSet,'`[_`][
    'idle.ModeIdle]]] [narrowing label('exit)] ., 
  '@1:Name <- '@1:Name)]-> 15
| 0 |-> state('_;_;_['X:Name,'Y:Name,'__['`[_`]['idle.ModeIdle],'`[_`][
    'idle.ModeIdle]]])
1 |-> state('_;_;_['__['s.Name,'@1:Name],'@2:Name,'__['`[_`]['idle.ModeIdle],
    '`[_`]['wait['@1:Name]]]])
2 |-> state('_;_;_['__['s.Name,'s.Name,'@2:Name],'@1:Name,'__['`[_`]['wait[
    '@2:Name]],'`[_`]['wait['__['s.Name,'@2:Name]]]]])
3 |-> state('_;_;_['__['s.Name,'@1:Name],'@1:Name,'__['`[_`]['idle.ModeIdle],
    '`[_`]['crit['@1:Name]]]])
4 |-> state('_;_;_['__['s.Name,'s.Name,'@1:Name],'@1:Name,'__['`[_`]['crit[
    '@1:Name]],'`[_`]['wait['__['s.Name,'@1:Name]]]]])
5 |-> state('_;_;_['__['s.Name,'s.Name,'@1:Name],'__['s.Name,'@1:Name],'__[
    '`[_`]['crit['__['s.Name,'@1:Name]]],'`[_`]['wait['@1:Name]]]])
9 |-> state('_;_;_['__['s.Name,'s.Name,'@1:Name],'__['s.Name,'s.Name,'@1:Name],
    '__['`[_`]['idle.ModeIdle],'`[_`]['wait['@1:Name]]]])
10 |-> state('_;_;_['__['s.Name,'s.Name,'s.Name,'@1:Name],'__['s.Name,'s.Name,
    '@1:Name],'__['`[_`]['wait['@1:Name]],'`[_`]['wait['__['s.Name,'s.Name,
    '@1:Name]]]]])
11 |-> state('_;_;_['__['s.Name,'s.Name,'s.Name,'@1:Name],'__['s.Name,'s.Name,
    '@1:Name],'__['`[_`]['crit['__['s.Name,'s.Name,'@1:Name]]],'`[_`]['wait[
    '@1:Name]]]])
12 |-> state('_;_;_['__['s.Name,'s.Name,'s.Name,'@1:Name],'__['s.Name,'s.Name,
    's.Name,'@1:Name],'__['`[_`]['idle.ModeIdle],'`[_`]['wait['@1:Name]]]])
13 |-> state('_;_;_['__['s.Name,'s.Name,'s.Name,'s.Name,'@1:Name],'__['s.Name,
    's.Name,'s.Name,'@1:Name],'__['`[_`]['wait['@1:Name]],'`[_`]['wait['__[
    's.Name,'s.Name,'s.Name,'@1:Name]]]]])
14 |-> state('_;_;_['__['s.Name,'s.Name,'s.Name,'s.Name,'@1:Name],'__['s.Name,
    's.Name,'s.Name,'@1:Name],'__['`[_`]['crit['__['s.Name,'s.Name,'s.Name,
    '@1:Name]]],'`[_`]['wait['@1:Name]]]])
15 |-> state('_;_;_['__['s.Name,'s.Name,'s.Name,'s.Name,'@1:Name],'__['s.Name,
    's.Name,'s.Name,'s.Name,'@1:Name],'__['`[_`]['idle.ModeIdle],'`[_`]['wait[
    '@1:Name]]]])
| 15
| 15 -[label(rl '_;_;_['N:Name,'M:Name,'__['PS:ProcSet,'`[_`]['idle.ModeIdle]]]
    => '_;_;_['__['s.Name,'N:Name],'M:Name,'__['PS:ProcSet,'`[_`]['wait[
    'N:Name]]]] [narrowing label('wake)] ., 
  '@1:Name <- '@1:Name)]-> state('_;_;_['__['s.Name,'s.Name,'s.Name,'s.Name,
    's.Name,'@1:Name],'__['s.Name,'s.Name,'s.Name,'s.Name,'@1:Name],'__['`[_`][
    'wait['@1:Name]],'`[_`]['wait['__['s.Name,'s.Name,'s.Name,'s.Name,
    '@1:Name]]]]])
[continue(10,10)]
.LGraph
==========================================
reduce in BAKERY-FVP-CTOR-NARROWING-GRAPH : wellFormed(##m##, init(0)) .
rewrites: 4
result Bool: true
==========================================
reduce in BAKERY-FVP-CTOR-NARROWING-GRAPH : wellFormed(##m##, init(1)) .
rewrites: 3
result Bool: true
==========================================
reduce in BAKERY-FVP-CTOR-NARROWING-GRAPH : wellFormed(##m##, init(2)) .
rewrites: 3
result Bool: true
==========================================
reduce in BAKERY-FVP-CTOR-NARROWING-GRAPH : step(state(init(0))) .
rewrites: 37
result Transition: < label(rl '<_`,_`,_`,_>['sleep.NcMode,'X:Nat>,'Q:Mode,
    'Y:Nat>] => '<_`,_`,_`,_>['wait.NcMode,'_+_['1.Zero>,'Y:Nat>],'Q:Mode,
    'Y:Nat>] [narrowing label('p1_sleep)] ., none),state('<_`,_`,_`,_>[
    'wait.NcMode,'_+_['1.Zero>,'1.Zero>,'1.Zero>],'wait.NcMode,'_+_['1.Zero>,
    '1.Zero>]]) >
==========================================
reduce in BAKERY-FVP-CTOR-NARROWING-GRAPH : step(state(init(1))) .
rewrites: 226
result NeTransitionSet: < label(rl '<_`,_`,_`,_>['P:Mode,'0.Zero>,'wait.NcMode,
    'Y:Nat>] => '<_`,_`,_`,_>['P:Mode,'0.Zero>,'crit.Mode,'Y:Nat>] [narrowing
    label('p2_wait)] .
rl '<_`,_`,_`,_>['P:Mode,'_+_['V1:Nat>,'V2:NzNat>],'wait.NcMode,'V1:Nat>] =>
    '<_`,_`,_`,_>['P:Mode,'_+_['V1:Nat>,'V2:NzNat>],'crit.Mode,'V1:Nat>] [
    narrowing label('p2_wait)] ., 
  'PNC:NcMode <- '@1:NcMode ; 
  'QC:Mode <- 'wait.NcMode ; 
  'X1:Nat> <- '0.Zero> ; 
  'X2:Nat> <- '@2:Nat>),state('<_`,_`,_`,_>['@1:NcMode,'0.Zero>,'crit.Mode,
    '@2:Nat>]) >,< label(rl '<_`,_`,_`,_>['P:Mode,'0.Zero>,'wait.NcMode,
    'Y:Nat>] => '<_`,_`,_`,_>['P:Mode,'0.Zero>,'crit.Mode,'Y:Nat>] [narrowing
    label('p2_wait)] .
rl '<_`,_`,_`,_>['P:Mode,'_+_['V1:Nat>,'V2:NzNat>],'wait.NcMode,'V1:Nat>] =>
    '<_`,_`,_`,_>['P:Mode,'_+_['V1:Nat>,'V2:NzNat>],'crit.Mode,'V1:Nat>] [
    narrowing label('p2_wait)] ., 
  'PNC:NcMode <- '@1:NcMode ; 
  'QC:Mode <- 'wait.NcMode ; 
  'X1:Nat> <- '_+_['@2:Nat>,'@3:NzNat>] ; 
  'X2:Nat> <- '@2:Nat>),state('<_`,_`,_`,_>['@1:NcMode,'_+_['@2:Nat>,
    '@3:NzNat>],'crit.Mode,'@2:Nat>]) >,< label(rl '<_`,_`,_`,_>['wait.NcMode,
    'X:Nat>,'Q:Mode,'0.Zero>] => '<_`,_`,_`,_>['crit.Mode,'X:Nat>,'Q:Mode,
    '0.Zero>] [narrowing label('p1_wait)] .
rl '<_`,_`,_`,_>['wait.NcMode,'_+_['V1:Nat>,'V2:Nat>],'Q:Mode,'V1:Nat>] =>
    '<_`,_`,_`,_>['crit.Mode,'_+_['V1:Nat>,'V2:Nat>],'Q:Mode,'V1:Nat>] [
    narrowing label('p1_wait)] ., 
  'PNC:NcMode <- 'wait.NcMode ; 
  'QC:Mode <- '@1:Mode ; 
  'X1:Nat> <- '_+_['@2:Nat>,'@3:Nat>] ; 
  'X2:Nat> <- '@2:Nat>),state('<_`,_`,_`,_>['crit.Mode,'_+_['@2:Nat>,'@3:Nat>],
    '@1:Mode,'@2:Nat>]) >,< label(rl '<_`,_`,_`,_>['wait.NcMode,'X:Nat>,
    'Q:Mode,'0.Zero>] => '<_`,_`,_`,_>['crit.Mode,'X:Nat>,'Q:Mode,'0.Zero>] [
    narrowing label('p1_wait)] .
rl '<_`,_`,_`,_>['wait.NcMode,'_+_['V1:Nat>,'V2:Nat>],'Q:Mode,'V1:Nat>] =>
    '<_`,_`,_`,_>['crit.Mode,'_+_['V1:Nat>,'V2:Nat>],'Q:Mode,'V1:Nat>] [
    narrowing label('p1_wait)] ., 
  'PNC:NcMode <- 'wait.NcMode ; 
  'QC:Mode <- '@2:Mode ; 
  'X1:Nat> <- '@1:Nat> ; 
  'X2:Nat> <- '0.Zero>),state('<_`,_`,_`,_>['crit.Mode,'@1:Nat>,'@2:Mode,
    '0.Zero>]) >,< label(rl '<_`,_`,_`,_>['P:Mode,'X:Nat>,'crit.Mode,'Y:Nat>]
    => '<_`,_`,_`,_>['P:Mode,'X:Nat>,'sleep.NcMode,'0.Zero>] [narrowing label(
    'p2_crit)] ., 
  'PNC:NcMode <- '@1:NcMode ; 
  'QC:Mode <- 'crit.Mode ; 
  'X1:Nat> <- '@2:Nat> ; 
  'X2:Nat> <- '@3:Nat>),state('<_`,_`,_`,_>['@1:NcMode,'@2:Nat>,'sleep.NcMode,
    '0.Zero>]) >,< label(rl '<_`,_`,_`,_>['P:Mode,'X:Nat>,'sleep.NcMode,
    'Y:Nat>] => '<_`,_`,_`,_>['P:Mode,'X:Nat>,'wait.NcMode,'_+_['1.Zero>,
    'X:Nat>]] [narrowing label('p2_sleep)] ., 
  'PNC:NcMode <- '@1:NcMode ; 
  'QC:Mode <- 'sleep.NcMode ; 
  'X1:Nat> <- '@2:Nat> ; 
  'X2:Nat> <- '@3:Nat>),state('<_`,_`,_`,_>['@1:NcMode,'@2:Nat>,'wait.NcMode,
    '_+_['1.Zero>,'@2:Nat>]]) >,< label(rl '<_`,_`,_`,_>['sleep.NcMode,'X:Nat>,
    'Q:Mode,'Y:Nat>] => '<_`,_`,_`,_>['wait.NcMode,'_+_['1.Zero>,'Y:Nat>],
    'Q:Mode,'Y:Nat>] [narrowing label('p1_sleep)] ., 
  'PNC:NcMode <- 'sleep.NcMode ; 
  'QC:Mode <- '@2:Mode ; 
  'X1:Nat> <- '@1:Nat> ; 
  'X2:Nat> <- '@3:Nat>),state('<_`,_`,_`,_>['wait.NcMode,'_+_['1.Zero>,
    '@3:Nat>],'@2:Mode,'@3:Nat>]) >
==========================================
reduce in BAKERY-FVP-CTOR-NARROWING-GRAPH : step(state(init(2))) .
rewrites: 226
result NeTransitionSet: < label(rl '<_`,_`,_`,_>['P:Mode,'0.Zero>,'wait.NcMode,
    'Y:Nat>] => '<_`,_`,_`,_>['P:Mode,'0.Zero>,'crit.Mode,'Y:Nat>] [narrowing
    label('p2_wait)] .
rl '<_`,_`,_`,_>['P:Mode,'_+_['V1:Nat>,'V2:NzNat>],'wait.NcMode,'V1:Nat>] =>
    '<_`,_`,_`,_>['P:Mode,'_+_['V1:Nat>,'V2:NzNat>],'crit.Mode,'V1:Nat>] [
    narrowing label('p2_wait)] ., 
  'PC:Mode <- '@1:Mode ; 
  'QNC:NcMode <- 'wait.NcMode ; 
  'Y1:Nat> <- '0.Zero> ; 
  'Y2:Nat> <- '@2:Nat>),state('<_`,_`,_`,_>['@1:Mode,'0.Zero>,'crit.Mode,
    '@2:Nat>]) >,< label(rl '<_`,_`,_`,_>['P:Mode,'0.Zero>,'wait.NcMode,
    'Y:Nat>] => '<_`,_`,_`,_>['P:Mode,'0.Zero>,'crit.Mode,'Y:Nat>] [narrowing
    label('p2_wait)] .
rl '<_`,_`,_`,_>['P:Mode,'_+_['V1:Nat>,'V2:NzNat>],'wait.NcMode,'V1:Nat>] =>
    '<_`,_`,_`,_>['P:Mode,'_+_['V1:Nat>,'V2:NzNat>],'crit.Mode,'V1:Nat>] [
    narrowing label('p2_wait)] ., 
  'PC:Mode <- '@1:Mode ; 
  'QNC:NcMode <- 'wait.NcMode ; 
  'Y1:Nat> <- '_+_['@2:Nat>,'@3:NzNat>] ; 
  'Y2:Nat> <- '@2:Nat>),state('<_`,_`,_`,_>['@1:Mode,'_+_['@2:Nat>,'@3:NzNat>],
    'crit.Mode,'@2:Nat>]) >,< label(rl '<_`,_`,_`,_>['wait.NcMode,'X:Nat>,
    'Q:Mode,'0.Zero>] => '<_`,_`,_`,_>['crit.Mode,'X:Nat>,'Q:Mode,'0.Zero>] [
    narrowing label('p1_wait)] .
rl '<_`,_`,_`,_>['wait.NcMode,'_+_['V1:Nat>,'V2:Nat>],'Q:Mode,'V1:Nat>] =>
    '<_`,_`,_`,_>['crit.Mode,'_+_['V1:Nat>,'V2:Nat>],'Q:Mode,'V1:Nat>] [
    narrowing label('p1_wait)] ., 
  'PC:Mode <- 'wait.NcMode ; 
  'QNC:NcMode <- '@1:NcMode ; 
  'Y1:Nat> <- '_+_['@2:Nat>,'@3:Nat>] ; 
  'Y2:Nat> <- '@2:Nat>),state('<_`,_`,_`,_>['crit.Mode,'_+_['@2:Nat>,'@3:Nat>],
    '@1:NcMode,'@2:Nat>]) >,< label(rl '<_`,_`,_`,_>['wait.NcMode,'X:Nat>,
    'Q:Mode,'0.Zero>] => '<_`,_`,_`,_>['crit.Mode,'X:Nat>,'Q:Mode,'0.Zero>] [
    narrowing label('p1_wait)] .
rl '<_`,_`,_`,_>['wait.NcMode,'_+_['V1:Nat>,'V2:Nat>],'Q:Mode,'V1:Nat>] =>
    '<_`,_`,_`,_>['crit.Mode,'_+_['V1:Nat>,'V2:Nat>],'Q:Mode,'V1:Nat>] [
    narrowing label('p1_wait)] ., 
  'PC:Mode <- 'wait.NcMode ; 
  'QNC:NcMode <- '@2:NcMode ; 
  'Y1:Nat> <- '@1:Nat> ; 
  'Y2:Nat> <- '0.Zero>),state('<_`,_`,_`,_>['crit.Mode,'@1:Nat>,'@2:NcMode,
    '0.Zero>]) >,< label(rl '<_`,_`,_`,_>['P:Mode,'X:Nat>,'sleep.NcMode,
    'Y:Nat>] => '<_`,_`,_`,_>['P:Mode,'X:Nat>,'wait.NcMode,'_+_['1.Zero>,
    'X:Nat>]] [narrowing label('p2_sleep)] ., 
  'PC:Mode <- '@1:Mode ; 
  'QNC:NcMode <- 'sleep.NcMode ; 
  'Y1:Nat> <- '@2:Nat> ; 
  'Y2:Nat> <- '@3:Nat>),state('<_`,_`,_`,_>['@1:Mode,'@2:Nat>,'wait.NcMode,
    '_+_['1.Zero>,'@2:Nat>]]) >,< label(rl '<_`,_`,_`,_>['crit.Mode,'X:Nat>,
    'Q:Mode,'Y:Nat>] => '<_`,_`,_`,_>['sleep.NcMode,'0.Zero>,'Q:Mode,'Y:Nat>] [
    narrowing label('p1_crit)] ., 
  'PC:Mode <- 'crit.Mode ; 
  'QNC:NcMode <- '@2:NcMode ; 
  'Y1:Nat> <- '@1:Nat> ; 
  'Y2:Nat> <- '@3:Nat>),state('<_`,_`,_`,_>['sleep.NcMode,'0.Zero>,'@2:NcMode,
    '@3:Nat>]) >,< label(rl '<_`,_`,_`,_>['sleep.NcMode,'X:Nat>,'Q:Mode,
    'Y:Nat>] => '<_`,_`,_`,_>['wait.NcMode,'_+_['1.Zero>,'Y:Nat>],'Q:Mode,
    'Y:Nat>] [narrowing label('p1_sleep)] ., 
  'PC:Mode <- 'sleep.NcMode ; 
  'QNC:NcMode <- '@2:NcMode ; 
  'Y1:Nat> <- '@1:Nat> ; 
  'Y2:Nat> <- '@3:Nat>),state('<_`,_`,_`,_>['wait.NcMode,'_+_['1.Zero>,
    '@3:Nat>],'@2:NcMode,'@3:Nat>]) >
==========================================
reduce in BAKERY-FVP-CTOR-NARROWING-GRAPH : bfs(state(init(1))) .
rewrites: 937
result LGraph: 
0 -[label(rl '<_`,_`,_`,_>['P:Mode,'0.Zero>,'wait.NcMode,'Y:Nat>] =>
    '<_`,_`,_`,_>['P:Mode,'0.Zero>,'crit.Mode,'Y:Nat>] [narrowing label(
    'p2_wait)] .
rl '<_`,_`,_`,_>['P:Mode,'_+_['V1:Nat>,'V2:NzNat>],'wait.NcMode,'V1:Nat>] =>
    '<_`,_`,_`,_>['P:Mode,'_+_['V1:Nat>,'V2:NzNat>],'crit.Mode,'V1:Nat>] [
    narrowing label('p2_wait)] ., 
  'PNC:NcMode <- '@1:NcMode ; 
  'QC:Mode <- 'wait.NcMode ; 
  'X1:Nat> <- '0.Zero> ; 
  'X2:Nat> <- '@2:Nat>)]-> 0[fold(
  'PNC:NcMode <- '@1:NcMode ; 
  'QC:Mode <- 'crit.Mode ; 
  'X1:Nat> <- '0.Zero> ; 
  'X2:Nat> <- '@2:Nat>)]
0 -[label(rl '<_`,_`,_`,_>['P:Mode,'0.Zero>,'wait.NcMode,'Y:Nat>] =>
    '<_`,_`,_`,_>['P:Mode,'0.Zero>,'crit.Mode,'Y:Nat>] [narrowing label(
    'p2_wait)] .
rl '<_`,_`,_`,_>['P:Mode,'_+_['V1:Nat>,'V2:NzNat>],'wait.NcMode,'V1:Nat>] =>
    '<_`,_`,_`,_>['P:Mode,'_+_['V1:Nat>,'V2:NzNat>],'crit.Mode,'V1:Nat>] [
    narrowing label('p2_wait)] ., 
  'PNC:NcMode <- '@1:NcMode ; 
  'QC:Mode <- 'wait.NcMode ; 
  'X1:Nat> <- '_+_['@2:Nat>,'@3:NzNat>] ; 
  'X2:Nat> <- '@2:Nat>)]-> 0[fold(
  'PNC:NcMode <- '@1:NcMode ; 
  'QC:Mode <- 'crit.Mode ; 
  'X1:Nat> <- '_+_['@2:Nat>,'@3:NzNat>] ; 
  'X2:Nat> <- '@2:Nat>)]
0 -[label(rl '<_`,_`,_`,_>['wait.NcMode,'X:Nat>,'Q:Mode,'0.Zero>] =>
    '<_`,_`,_`,_>['crit.Mode,'X:Nat>,'Q:Mode,'0.Zero>] [narrowing label(
    'p1_wait)] .
rl '<_`,_`,_`,_>['wait.NcMode,'_+_['V1:Nat>,'V2:Nat>],'Q:Mode,'V1:Nat>] =>
    '<_`,_`,_`,_>['crit.Mode,'_+_['V1:Nat>,'V2:Nat>],'Q:Mode,'V1:Nat>] [
    narrowing label('p1_wait)] ., 
  'PNC:NcMode <- 'wait.NcMode ; 
  'QC:Mode <- '@1:Mode ; 
  'X1:Nat> <- '_+_['@2:Nat>,'@3:Nat>] ; 
  'X2:Nat> <- '@2:Nat>)]-> 3
0 -[label(rl '<_`,_`,_`,_>['wait.NcMode,'X:Nat>,'Q:Mode,'0.Zero>] =>
    '<_`,_`,_`,_>['crit.Mode,'X:Nat>,'Q:Mode,'0.Zero>] [narrowing label(
    'p1_wait)] .
rl '<_`,_`,_`,_>['wait.NcMode,'_+_['V1:Nat>,'V2:Nat>],'Q:Mode,'V1:Nat>] =>
    '<_`,_`,_`,_>['crit.Mode,'_+_['V1:Nat>,'V2:Nat>],'Q:Mode,'V1:Nat>] [
    narrowing label('p1_wait)] ., 
  'PNC:NcMode <- 'wait.NcMode ; 
  'QC:Mode <- '@2:Mode ; 
  'X1:Nat> <- '@1:Nat> ; 
  'X2:Nat> <- '0.Zero>)]-> 3[fold(
  '@1:Mode <- '@2:Mode ; 
  '@2:Nat> <- '0.Zero> ; 
  '@3:Nat> <- '@1:Nat>)]
0 -[label(rl '<_`,_`,_`,_>['P:Mode,'X:Nat>,'crit.Mode,'Y:Nat>] =>
    '<_`,_`,_`,_>['P:Mode,'X:Nat>,'sleep.NcMode,'0.Zero>] [narrowing label(
    'p2_crit)] ., 
  'PNC:NcMode <- '@1:NcMode ; 
  'QC:Mode <- 'crit.Mode ; 
  'X1:Nat> <- '@2:Nat> ; 
  'X2:Nat> <- '@3:Nat>)]-> 0[fold(
  'PNC:NcMode <- '@1:NcMode ; 
  'QC:Mode <- 'sleep.NcMode ; 
  'X1:Nat> <- '@2:Nat> ; 
  'X2:Nat> <- '0.Zero>)]
0 -[label(rl '<_`,_`,_`,_>['P:Mode,'X:Nat>,'sleep.NcMode,'Y:Nat>] =>
    '<_`,_`,_`,_>['P:Mode,'X:Nat>,'wait.NcMode,'_+_['1.Zero>,'X:Nat>]] [
    narrowing label('p2_sleep)] ., 
  'PNC:NcMode <- '@1:NcMode ; 
  'QC:Mode <- 'sleep.NcMode ; 
  'X1:Nat> <- '@2:Nat> ; 
  'X2:Nat> <- '@3:Nat>)]-> 0[fold(
  'PNC:NcMode <- '@1:NcMode ; 
  'QC:Mode <- 'wait.NcMode ; 
  'X1:Nat> <- '@2:Nat> ; 
  'X2:Nat> <- '_+_['1.Zero>,'@2:Nat>])]
0 -[label(rl '<_`,_`,_`,_>['sleep.NcMode,'X:Nat>,'Q:Mode,'Y:Nat>] =>
    '<_`,_`,_`,_>['wait.NcMode,'_+_['1.Zero>,'Y:Nat>],'Q:Mode,'Y:Nat>] [
    narrowing label('p1_sleep)] ., 
  'PNC:NcMode <- 'sleep.NcMode ; 
  'QC:Mode <- '@2:Mode ; 
  'X1:Nat> <- '@1:Nat> ; 
  'X2:Nat> <- '@3:Nat>)]-> 0[fold(
  'PNC:NcMode <- 'wait.NcMode ; 
  'QC:Mode <- '@2:Mode ; 
  'X1:Nat> <- '_+_['1.Zero>,'@3:Nat>] ; 
  'X2:Nat> <- '@3:Nat>)]
3 -[label(rl '<_`,_`,_`,_>['P:Mode,'0.Zero>,'wait.NcMode,'Y:Nat>] =>
    '<_`,_`,_`,_>['P:Mode,'0.Zero>,'crit.Mode,'Y:Nat>] [narrowing label(
    'p2_wait)] .
rl '<_`,_`,_`,_>['P:Mode,'_+_['V1:Nat>,'V2:NzNat>],'wait.NcMode,'V1:Nat>] =>
    '<_`,_`,_`,_>['P:Mode,'_+_['V1:Nat>,'V2:NzNat>],'crit.Mode,'V1:Nat>] [
    narrowing label('p2_wait)] ., 
  '@1:Mode <- 'wait.NcMode ; 
  '@2:Nat> <- '0.Zero> ; 
  '@3:Nat> <- '0.Zero>)]-> 3[fold(
  '@1:Mode <- 'crit.Mode ; 
  '@2:Nat> <- '0.Zero> ; 
  '@3:Nat> <- '0.Zero>)]
3 -[label(rl '<_`,_`,_`,_>['P:Mode,'0.Zero>,'wait.NcMode,'Y:Nat>] =>
    '<_`,_`,_`,_>['P:Mode,'0.Zero>,'crit.Mode,'Y:Nat>] [narrowing label(
    'p2_wait)] .
rl '<_`,_`,_`,_>['P:Mode,'_+_['V1:Nat>,'V2:NzNat>],'wait.NcMode,'V1:Nat>] =>
    '<_`,_`,_`,_>['P:Mode,'_+_['V1:Nat>,'V2:NzNat>],'crit.Mode,'V1:Nat>] [
    narrowing label('p2_wait)] ., 
  '@1:Mode <- 'wait.NcMode ; 
  '@2:Nat> <- '@1:Nat> ; 
  '@3:Nat> <- '@2:NzNat>)]-> 3[fold(
  '@1:Mode <- 'crit.Mode ; 
  '@2:Nat> <- '@1:Nat> ; 
  '@3:Nat> <- '@2:NzNat>)]
3 -[label(rl '<_`,_`,_`,_>['P:Mode,'X:Nat>,'crit.Mode,'Y:Nat>] =>
    '<_`,_`,_`,_>['P:Mode,'X:Nat>,'sleep.NcMode,'0.Zero>] [narrowing label(
    'p2_crit)] ., 
  '@1:Mode <- 'crit.Mode ; 
  '@2:Nat> <- '@1:Nat> ; 
  '@3:Nat> <- '@2:Nat>)]-> 3[fold(
  '@1:Mode <- 'sleep.NcMode ; 
  '@2:Nat> <- '0.Zero> ; 
  '@3:Nat> <- '_+_['@1:Nat>,'@2:Nat>])]
3 -[label(rl '<_`,_`,_`,_>['P:Mode,'X:Nat>,'sleep.NcMode,'Y:Nat>] =>
    '<_`,_`,_`,_>['P:Mode,'X:Nat>,'wait.NcMode,'_+_['1.Zero>,'X:Nat>]] [
    narrowing label('p2_sleep)] ., 
  '@1:Mode <- 'sleep.NcMode ; 
  '@2:Nat> <- '@1:Nat> ; 
  '@3:Nat> <- '@2:Nat>)]-> 11
3 -[label(rl '<_`,_`,_`,_>['crit.Mode,'X:Nat>,'Q:Mode,'Y:Nat>] =>
    '<_`,_`,_`,_>['sleep.NcMode,'0.Zero>,'Q:Mode,'Y:Nat>] [narrowing label(
    'p1_crit)] ., 
  '@1:Mode <- '@1:Mode ; 
  '@2:Nat> <- '@2:Nat> ; 
  '@3:Nat> <- '@3:Nat>)]-> 0[fold(
  'PNC:NcMode <- 'sleep.NcMode ; 
  'QC:Mode <- '@1:Mode ; 
  'X1:Nat> <- '0.Zero> ; 
  'X2:Nat> <- '@2:Nat>)]
11 -[label(rl '<_`,_`,_`,_>['P:Mode,'0.Zero>,'wait.NcMode,'Y:Nat>] =>
    '<_`,_`,_`,_>['P:Mode,'0.Zero>,'crit.Mode,'Y:Nat>] [narrowing label(
    'p2_wait)] .
rl '<_`,_`,_`,_>['P:Mode,'_+_['V1:Nat>,'V2:NzNat>],'wait.NcMode,'V1:Nat>] =>
    '<_`,_`,_`,_>['P:Mode,'_+_['V1:Nat>,'V2:NzNat>],'crit.Mode,'V1:Nat>] [
    narrowing label('p2_wait)] ., 
  '@1:Nat> <- '0.Zero> ; 
  '@2:Nat> <- '0.Zero>)]-> 13
11 -[label(rl '<_`,_`,_`,_>['crit.Mode,'X:Nat>,'Q:Mode,'Y:Nat>] =>
    '<_`,_`,_`,_>['sleep.NcMode,'0.Zero>,'Q:Mode,'Y:Nat>] [narrowing label(
    'p1_crit)] ., 
  '@1:Nat> <- '@1:Nat> ; 
  '@2:Nat> <- '@2:Nat>)]-> 0[fold(
  'PNC:NcMode <- 'sleep.NcMode ; 
  'QC:Mode <- 'wait.NcMode ; 
  'X1:Nat> <- '0.Zero> ; 
  'X2:Nat> <- '_+_['1.Zero>,'@1:Nat>,'@2:Nat>])]
13 -[label(rl '<_`,_`,_`,_>['P:Mode,'X:Nat>,'crit.Mode,'Y:Nat>] =>
    '<_`,_`,_`,_>['P:Mode,'X:Nat>,'sleep.NcMode,'0.Zero>] [narrowing label(
    'p2_crit)] ., none)]-> 3[fold(
  '@1:Mode <- 'sleep.NcMode ; 
  '@2:Nat> <- '0.Zero> ; 
  '@3:Nat> <- '0.Zero>)]
13 -[label(rl '<_`,_`,_`,_>['crit.Mode,'X:Nat>,'Q:Mode,'Y:Nat>] =>
    '<_`,_`,_`,_>['sleep.NcMode,'0.Zero>,'Q:Mode,'Y:Nat>] [narrowing label(
    'p1_crit)] ., none)]-> 0[fold(
  'PNC:NcMode <- 'sleep.NcMode ; 
  'QC:Mode <- 'crit.Mode ; 
  'X1:Nat> <- '0.Zero> ; 
  'X2:Nat> <- '1.Zero>)]
| 0 |-> state('<_`,_`,_`,_>['PNC:NcMode,'X1:Nat>,'QC:Mode,'X2:Nat>])
3 |-> state('<_`,_`,_`,_>['crit.Mode,'_+_['@2:Nat>,'@3:Nat>],'@1:Mode,
    '@2:Nat>])
11 |-> state('<_`,_`,_`,_>['crit.Mode,'_+_['@1:Nat>,'@2:Nat>],'wait.NcMode,
    '_+_['1.Zero>,'@1:Nat>,'@2:Nat>]])
13 |-> state('<_`,_`,_`,_>['crit.Mode,'0.Zero>,'crit.Mode,'1.Zero>])
| 16
==========================================
reduce in BAKERY-FVP-CTOR-NARROWING-GRAPH : bfs(state(init(2))) .
rewrites: 1401
result LGraph: 
0 -[label(rl '<_`,_`,_`,_>['P:Mode,'0.Zero>,'wait.NcMode,'Y:Nat>] =>
    '<_`,_`,_`,_>['P:Mode,'0.Zero>,'crit.Mode,'Y:Nat>] [narrowing label(
    'p2_wait)] .
rl '<_`,_`,_`,_>['P:Mode,'_+_['V1:Nat>,'V2:NzNat>],'wait.NcMode,'V1:Nat>] =>
    '<_`,_`,_`,_>['P:Mode,'_+_['V1:Nat>,'V2:NzNat>],'crit.Mode,'V1:Nat>] [
    narrowing label('p2_wait)] ., 
  'PC:Mode <- '@1:Mode ; 
  'QNC:NcMode <- 'wait.NcMode ; 
  'Y1:Nat> <- '0.Zero> ; 
  'Y2:Nat> <- '@2:Nat>)]-> 1
0 -[label(rl '<_`,_`,_`,_>['P:Mode,'0.Zero>,'wait.NcMode,'Y:Nat>] =>
    '<_`,_`,_`,_>['P:Mode,'0.Zero>,'crit.Mode,'Y:Nat>] [narrowing label(
    'p2_wait)] .
rl '<_`,_`,_`,_>['P:Mode,'_+_['V1:Nat>,'V2:NzNat>],'wait.NcMode,'V1:Nat>] =>
    '<_`,_`,_`,_>['P:Mode,'_+_['V1:Nat>,'V2:NzNat>],'crit.Mode,'V1:Nat>] [
    narrowing label('p2_wait)] ., 
  'PC:Mode <- '@1:Mode ; 
  'QNC:NcMode <- 'wait.NcMode ; 
  'Y1:Nat> <- '_+_['@2:Nat>,'@3:NzNat>] ; 
  'Y2:Nat> <- '@2:Nat>)]-> 2
0 -[label(rl '<_`,_`,_`,_>['wait.NcMode,'X:Nat>,'Q:Mode,'0.Zero>] =>
    '<_`,_`,_`,_>['crit.Mode,'X:Nat>,'Q:Mode,'0.Zero>] [narrowing label(
    'p1_wait)] .
rl '<_`,_`,_`,_>['wait.NcMode,'_+_['V1:Nat>,'V2:Nat>],'Q:Mode,'V1:Nat>] =>
    '<_`,_`,_`,_>['crit.Mode,'_+_['V1:Nat>,'V2:Nat>],'Q:Mode,'V1:Nat>] [
    narrowing label('p1_wait)] ., 
  'PC:Mode <- 'wait.NcMode ; 
  'QNC:NcMode <- '@1:NcMode ; 
  'Y1:Nat> <- '_+_['@2:Nat>,'@3:Nat>] ; 
  'Y2:Nat> <- '@2:Nat>)]-> 0[fold(
  'PC:Mode <- 'crit.Mode ; 
  'QNC:NcMode <- '@1:NcMode ; 
  'Y1:Nat> <- '_+_['@2:Nat>,'@3:Nat>] ; 
  'Y2:Nat> <- '@2:Nat>)]
0 -[label(rl '<_`,_`,_`,_>['wait.NcMode,'X:Nat>,'Q:Mode,'0.Zero>] =>
    '<_`,_`,_`,_>['crit.Mode,'X:Nat>,'Q:Mode,'0.Zero>] [narrowing label(
    'p1_wait)] .
rl '<_`,_`,_`,_>['wait.NcMode,'_+_['V1:Nat>,'V2:Nat>],'Q:Mode,'V1:Nat>] =>
    '<_`,_`,_`,_>['crit.Mode,'_+_['V1:Nat>,'V2:Nat>],'Q:Mode,'V1:Nat>] [
    narrowing label('p1_wait)] ., 
  'PC:Mode <- 'wait.NcMode ; 
  'QNC:NcMode <- '@2:NcMode ; 
  'Y1:Nat> <- '@1:Nat> ; 
  'Y2:Nat> <- '0.Zero>)]-> 0[fold(
  'PC:Mode <- 'crit.Mode ; 
  'QNC:NcMode <- '@2:NcMode ; 
  'Y1:Nat> <- '@1:Nat> ; 
  'Y2:Nat> <- '0.Zero>)]
0 -[label(rl '<_`,_`,_`,_>['P:Mode,'X:Nat>,'sleep.NcMode,'Y:Nat>] =>
    '<_`,_`,_`,_>['P:Mode,'X:Nat>,'wait.NcMode,'_+_['1.Zero>,'X:Nat>]] [
    narrowing label('p2_sleep)] ., 
  'PC:Mode <- '@1:Mode ; 
  'QNC:NcMode <- 'sleep.NcMode ; 
  'Y1:Nat> <- '@2:Nat> ; 
  'Y2:Nat> <- '@3:Nat>)]-> 0[fold(
  'PC:Mode <- '@1:Mode ; 
  'QNC:NcMode <- 'wait.NcMode ; 
  'Y1:Nat> <- '@2:Nat> ; 
  'Y2:Nat> <- '_+_['1.Zero>,'@2:Nat>])]
0 -[label(rl '<_`,_`,_`,_>['crit.Mode,'X:Nat>,'Q:Mode,'Y:Nat>] =>
    '<_`,_`,_`,_>['sleep.NcMode,'0.Zero>,'Q:Mode,'Y:Nat>] [narrowing label(
    'p1_crit)] ., 
  'PC:Mode <- 'crit.Mode ; 
  'QNC:NcMode <- '@2:NcMode ; 
  'Y1:Nat> <- '@1:Nat> ; 
  'Y2:Nat> <- '@3:Nat>)]-> 0[fold(
  'PC:Mode <- 'sleep.NcMode ; 
  'QNC:NcMode <- '@2:NcMode ; 
  'Y1:Nat> <- '0.Zero> ; 
  'Y2:Nat> <- '@3:Nat>)]
0 -[label(rl '<_`,_`,_`,_>['sleep.NcMode,'X:Nat>,'Q:Mode,'Y:Nat>] =>
    '<_`,_`,_`,_>['wait.NcMode,'_+_['1.Zero>,'Y:Nat>],'Q:Mode,'Y:Nat>] [
    narrowing label('p1_sleep)] ., 
  'PC:Mode <- 'sleep.NcMode ; 
  'QNC:NcMode <- '@2:NcMode ; 
  'Y1:Nat> <- '@1:Nat> ; 
  'Y2:Nat> <- '@3:Nat>)]-> 0[fold(
  'PC:Mode <- 'wait.NcMode ; 
  'QNC:NcMode <- '@2:NcMode ; 
  'Y1:Nat> <- '_+_['1.Zero>,'@3:Nat>] ; 
  'Y2:Nat> <- '@3:Nat>)]
1 -[label(rl '<_`,_`,_`,_>['wait.NcMode,'X:Nat>,'Q:Mode,'0.Zero>] =>
    '<_`,_`,_`,_>['crit.Mode,'X:Nat>,'Q:Mode,'0.Zero>] [narrowing label(
    'p1_wait)] .
rl '<_`,_`,_`,_>['wait.NcMode,'_+_['V1:Nat>,'V2:Nat>],'Q:Mode,'V1:Nat>] =>
    '<_`,_`,_`,_>['crit.Mode,'_+_['V1:Nat>,'V2:Nat>],'Q:Mode,'V1:Nat>] [
    narrowing label('p1_wait)] ., 
  '@1:Mode <- 'wait.NcMode ; 
  '@2:Nat> <- '0.Zero>)]-> 1[fold(
  '@1:Mode <- 'crit.Mode ; 
  '@2:Nat> <- '0.Zero>)]
1 -[label(rl '<_`,_`,_`,_>['P:Mode,'X:Nat>,'crit.Mode,'Y:Nat>] =>
    '<_`,_`,_`,_>['P:Mode,'X:Nat>,'sleep.NcMode,'0.Zero>] [narrowing label(
    'p2_crit)] ., 
  '@1:Mode <- '@1:Mode ; 
  '@2:Nat> <- '@2:Nat>)]-> 0[fold(
  'PC:Mode <- '@1:Mode ; 
  'QNC:NcMode <- 'sleep.NcMode ; 
  'Y1:Nat> <- '0.Zero> ; 
  'Y2:Nat> <- '0.Zero>)]
1 -[label(rl '<_`,_`,_`,_>['crit.Mode,'X:Nat>,'Q:Mode,'Y:Nat>] =>
    '<_`,_`,_`,_>['sleep.NcMode,'0.Zero>,'Q:Mode,'Y:Nat>] [narrowing label(
    'p1_crit)] ., 
  '@1:Mode <- 'crit.Mode ; 
  '@2:Nat> <- '@1:Nat>)]-> 1[fold(
  '@1:Mode <- 'sleep.NcMode ; 
  '@2:Nat> <- '@1:Nat>)]
1 -[label(rl '<_`,_`,_`,_>['sleep.NcMode,'X:Nat>,'Q:Mode,'Y:Nat>] =>
    '<_`,_`,_`,_>['wait.NcMode,'_+_['1.Zero>,'Y:Nat>],'Q:Mode,'Y:Nat>] [
    narrowing label('p1_sleep)] ., 
  '@1:Mode <- 'sleep.NcMode ; 
  '@2:Nat> <- '@1:Nat>)]-> 11
2 -[label(rl '<_`,_`,_`,_>['wait.NcMode,'X:Nat>,'Q:Mode,'0.Zero>] =>
    '<_`,_`,_`,_>['crit.Mode,'X:Nat>,'Q:Mode,'0.Zero>] [narrowing label(
    'p1_wait)] .
rl '<_`,_`,_`,_>['wait.NcMode,'_+_['V1:Nat>,'V2:Nat>],'Q:Mode,'V1:Nat>] =>
    '<_`,_`,_`,_>['crit.Mode,'_+_['V1:Nat>,'V2:Nat>],'Q:Mode,'V1:Nat>] [
    narrowing label('p1_wait)] ., 
  '@1:Mode <- 'wait.NcMode ; 
  '@2:Nat> <- '0.Zero> ; 
  '@3:NzNat> <- '@1:NzNat>)]-> 2[fold(
  '@1:Mode <- 'crit.Mode ; 
  '@2:Nat> <- '0.Zero> ; 
  '@3:NzNat> <- '@1:NzNat>)]
2 -[label(rl '<_`,_`,_`,_>['wait.NcMode,'X:Nat>,'Q:Mode,'0.Zero>] =>
    '<_`,_`,_`,_>['crit.Mode,'X:Nat>,'Q:Mode,'0.Zero>] [narrowing label(
    'p1_wait)] .
rl '<_`,_`,_`,_>['wait.NcMode,'_+_['V1:Nat>,'V2:Nat>],'Q:Mode,'V1:Nat>] =>
    '<_`,_`,_`,_>['crit.Mode,'_+_['V1:Nat>,'V2:Nat>],'Q:Mode,'V1:Nat>] [
    narrowing label('p1_wait)] ., 
  '@1:Mode <- 'wait.NcMode ; 
  '@2:Nat> <- '@1:Nat> ; 
  '@3:NzNat> <- '@2:NzNat>)]-> 2[fold(
  '@1:Mode <- 'crit.Mode ; 
  '@2:Nat> <- '@1:Nat> ; 
  '@3:NzNat> <- '@2:NzNat>)]
2 -[label(rl '<_`,_`,_`,_>['P:Mode,'X:Nat>,'crit.Mode,'Y:Nat>] =>
    '<_`,_`,_`,_>['P:Mode,'X:Nat>,'sleep.NcMode,'0.Zero>] [narrowing label(
    'p2_crit)] ., 
  '@1:Mode <- '@1:Mode ; 
  '@2:Nat> <- '@2:Nat> ; 
  '@3:NzNat> <- '@3:NzNat>)]-> 0[fold(
  'PC:Mode <- '@1:Mode ; 
  'QNC:NcMode <- 'sleep.NcMode ; 
  'Y1:Nat> <- '_+_['@2:Nat>,'@3:NzNat>] ; 
  'Y2:Nat> <- '0.Zero>)]
2 -[label(rl '<_`,_`,_`,_>['crit.Mode,'X:Nat>,'Q:Mode,'Y:Nat>] =>
    '<_`,_`,_`,_>['sleep.NcMode,'0.Zero>,'Q:Mode,'Y:Nat>] [narrowing label(
    'p1_crit)] ., 
  '@1:Mode <- 'crit.Mode ; 
  '@2:Nat> <- '@1:Nat> ; 
  '@3:NzNat> <- '@2:NzNat>)]-> 1[fold(
  '@1:Mode <- 'sleep.NcMode ; 
  '@2:Nat> <- '@1:Nat>)]
2 -[label(rl '<_`,_`,_`,_>['sleep.NcMode,'X:Nat>,'Q:Mode,'Y:Nat>] =>
    '<_`,_`,_`,_>['wait.NcMode,'_+_['1.Zero>,'Y:Nat>],'Q:Mode,'Y:Nat>] [
    narrowing label('p1_sleep)] ., 
  '@1:Mode <- 'sleep.NcMode ; 
  '@2:Nat> <- '@1:Nat> ; 
  '@3:NzNat> <- '@2:NzNat>)]-> 11
11 -[label(rl '<_`,_`,_`,_>['wait.NcMode,'X:Nat>,'Q:Mode,'0.Zero>] =>
    '<_`,_`,_`,_>['crit.Mode,'X:Nat>,'Q:Mode,'0.Zero>] [narrowing label(
    'p1_wait)] .
rl '<_`,_`,_`,_>['wait.NcMode,'_+_['V1:Nat>,'V2:Nat>],'Q:Mode,'V1:Nat>] =>
    '<_`,_`,_`,_>['crit.Mode,'_+_['V1:Nat>,'V2:Nat>],'Q:Mode,'V1:Nat>] [
    narrowing label('p1_wait)] ., 
  '@1:Nat> <- '0.Zero>)]-> 17
11 -[label(rl '<_`,_`,_`,_>['wait.NcMode,'X:Nat>,'Q:Mode,'0.Zero>] =>
    '<_`,_`,_`,_>['crit.Mode,'X:Nat>,'Q:Mode,'0.Zero>] [narrowing label(
    'p1_wait)] .
rl '<_`,_`,_`,_>['wait.NcMode,'_+_['V1:Nat>,'V2:Nat>],'Q:Mode,'V1:Nat>] =>
    '<_`,_`,_`,_>['crit.Mode,'_+_['V1:Nat>,'V2:Nat>],'Q:Mode,'V1:Nat>] [
    narrowing label('p1_wait)] ., 
  '@1:Nat> <- '@1:Nat>)]-> 18
11 -[label(rl '<_`,_`,_`,_>['P:Mode,'X:Nat>,'crit.Mode,'Y:Nat>] =>
    '<_`,_`,_`,_>['P:Mode,'X:Nat>,'sleep.NcMode,'0.Zero>] [narrowing label(
    'p2_crit)] ., 
  '@1:Nat> <- '@1:Nat>)]-> 0[fold(
  'PC:Mode <- 'wait.NcMode ; 
  'QNC:NcMode <- 'sleep.NcMode ; 
  'Y1:Nat> <- '_+_['1.Zero>,'@1:Nat>] ; 
  'Y2:Nat> <- '0.Zero>)]
17 -[label(rl '<_`,_`,_`,_>['P:Mode,'X:Nat>,'crit.Mode,'Y:Nat>] =>
    '<_`,_`,_`,_>['P:Mode,'X:Nat>,'sleep.NcMode,'0.Zero>] [narrowing label(
    'p2_crit)] ., none)]-> 0[fold(
  'PC:Mode <- 'crit.Mode ; 
  'QNC:NcMode <- 'sleep.NcMode ; 
  'Y1:Nat> <- '1.Zero> ; 
  'Y2:Nat> <- '0.Zero>)]
17 -[label(rl '<_`,_`,_`,_>['crit.Mode,'X:Nat>,'Q:Mode,'Y:Nat>] =>
    '<_`,_`,_`,_>['sleep.NcMode,'0.Zero>,'Q:Mode,'Y:Nat>] [narrowing label(
    'p1_crit)] ., none)]-> 1[fold(
  '@1:Mode <- 'sleep.NcMode ; 
  '@2:Nat> <- '0.Zero>)]
18 -[label(rl '<_`,_`,_`,_>['P:Mode,'X:Nat>,'crit.Mode,'Y:Nat>] =>
    '<_`,_`,_`,_>['P:Mode,'X:Nat>,'sleep.NcMode,'0.Zero>] [narrowing label(
    'p2_crit)] ., 
  '@1:Nat> <- '@1:Nat>)]-> 0[fold(
  'PC:Mode <- 'crit.Mode ; 
  'QNC:NcMode <- 'sleep.NcMode ; 
  'Y1:Nat> <- '_+_['1.Zero>,'@1:Nat>] ; 
  'Y2:Nat> <- '0.Zero>)]
18 -[label(rl '<_`,_`,_`,_>['crit.Mode,'X:Nat>,'Q:Mode,'Y:Nat>] =>
    '<_`,_`,_`,_>['sleep.NcMode,'0.Zero>,'Q:Mode,'Y:Nat>] [narrowing label(
    'p1_crit)] ., 
  '@1:Nat> <- '@1:Nat>)]-> 1[fold(
  '@1:Mode <- 'sleep.NcMode ; 
  '@2:Nat> <- '@1:Nat>)]
| 0 |-> state('<_`,_`,_`,_>['PC:Mode,'Y1:Nat>,'QNC:NcMode,'Y2:Nat>])
1 |-> state('<_`,_`,_`,_>['@1:Mode,'0.Zero>,'crit.Mode,'@2:Nat>])
2 |-> state('<_`,_`,_`,_>['@1:Mode,'_+_['@2:Nat>,'@3:NzNat>],'crit.Mode,
    '@2:Nat>])
11 |-> state('<_`,_`,_`,_>['wait.NcMode,'_+_['1.Zero>,'@1:Nat>],'crit.Mode,
    '@1:Nat>])
17 |-> state('<_`,_`,_`,_>['crit.Mode,'1.Zero>,'crit.Mode,'0.Zero>])
18 |-> state('<_`,_`,_`,_>['crit.Mode,'_+_['1.Zero>,'@1:Nat>],'crit.Mode,
    '@1:Nat>])
| 23
Bye.
